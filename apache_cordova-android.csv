"com.android.builder.internal.aapt.v2.Aapt2InternalException","# Bug Report## ProblemIt is working fine when i am building without release option. Release option was working fine with android version 7.1.4### What is expected to happen?it should build successfully### What does actually happen?cordova build android --release## Information<!-- Include all relevant information that might help understand and reproduce the problem -->build gradle file:https://gist.github.com/indraraj26/a6efaed1135b0e394a23a1b192bc2c0c````FAILURE: Build failed with an exception.* What went wrong:Execution failed for task ':app:mergeReleaseResources'.> java.util.concurrent.ExecutionException: com.android.builder.internal.aapt.v2.Aapt2InternalException: AAPT2 aapt2-3.3.0-5013011-windows Daemon #0: Unexpected error during compile 'D:\client\platforms\android\app\src\main\res\drawable-land-xxxhdpi\screen.png', attempting to stop daemon. FAILED20 actionable tasks: 1 executed, 19 up-to-date  This should not happen under normal circumstances, please file an issue if it does.* Try:Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.* Get more help at https://help.gradle.orgBUILD FAILED in 8sD:\client>if "1" == "0" goto mainEndD:\client>rem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead ofD:\client>rem the _cmd.exe /c_ return code!D:\client>if not "" == "" exit 1D:\client>exit /b 1Command finished with error code 1: D:\client\platforms\android\gradlew cdvBuildRelease,-b,D:\client\platforms\android\build.gradleD:\client\platforms\android\gradlew: Command failed with exit code 1 Error output:FAILURE: Build failed with an exception.* What went wrong:Execution failed for task ':app:mergeReleaseResources'.> java.util.concurrent.ExecutionException: com.android.builder.internal.aapt.v2.Aapt2InternalException: AAPT2 aapt2-3.3.0-5013011-windows Daemon #0: Unexpected error during compile 'D:\client\platforms\android\app\src\main\res\drawable-land-xxxhdpi\screen.png', attempting to stop daemon.  This should not happen under normal circumstances, please file an issue if it does.* Try:Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.* Get more help at https://help.gradle.orgBUILD FAILED in 8sPicked up _JAVA_OPTIONS: -Xmx512MError: D:\client\platforms\android\gradlew: Command failed with exit code 1 Error output:FAILURE: Build failed with an exception.* What went wrong:Execution failed for task ':app:mergeReleaseResources'.> java.util.concurrent.ExecutionException: com.android.builder.internal.aapt.v2.Aapt2InternalException: AAPT2 aapt2-3.3.0-5013011-windows Daemon #0: Unexpected error during compile 'D:\client\platforms\android\app\src\main\res\drawable-land-xxxhdpi\screen.png', attempting to stop daemon.  This should not happen under normal circumstances, please file an issue if it does.* Try:Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.* Get more help at https://help.gradle.orgBUILD FAILED in 8sPicked up _JAVA_OPTIONS: -Xmx512M    at ChildProcess.whenDone (D:\client\node_modules\cordova-common\src\superspawn.js:135:23)    at ChildProcess.emit (events.js:198:13)    at ChildProcess.cp.emit (D:\client\node_modules\cordova-common\node_modules\cross-spawn\lib\enoent.js:34:29)    at maybeClose (internal/child_process.js:982:16)    at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)[ERROR] An error occurred while running subprocess cordova.        cordova.cmd build android --release --verbose exited with exit code 1.        Re-running this command with the --verbose flag may provide more information.````### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->```ionic info[WARN] Detected locally installed Ionic CLI, but it's too old--using global CLI.Ionic:   Ionic CLI          : 5.4.4 (C:\Users\HP\AppData\Roaming\npm\node_modules\ionic)   Ionic Framework    : ionic-angular 3.9.2   @ionic/app-scripts : 3.2.2Cordova:   Cordova CLI       : 8.1.2 (cordova-lib@8.1.1)   Cordova Platforms : android 8.1.0   Cordova Plugins   : cordova-plugin-ionic-webview 1.2.1, (and 15 other plugins)Utility:   cordova-res : 0.8.1   native-run  : 0.2.9System:   Android SDK Tools : 26.1.1 (C:\Users\HP\AppData\Local\Android\Sdk)   NodeJS            : v10.16.0 (C:\Program Files\nodejs\node.exe)   npm               : 6.10.2   OS                : Windows 10```## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [X] I searched for existing GitHub issues- [X] I updated all Cordova tooling to most recent version- [X] I included all the necessary information above","open","880","undefined","","null"
" Android 9 Galaxy Note 10 Crashes","# Bug Report## ProblemApp crashes on Android 9 Samsung Galaxy Note 10### What is expected to happen?Not to crash on the mentioned devices### What does actually happen?App crashes on Android 9 Samsung Galaxy Note 10## Information<!-- Include all relevant information that might help understand and reproduce the problem -->14 Nov 13:28 on app version 10030Samsung Galaxy Note10 (d1), Android 9Report 1 of 1java.lang.RuntimeException:   at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3163)  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3306)  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:78)  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:108)  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:68)  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1994)  at android.os.Handler.dispatchMessage (Handler.java:106)  at android.os.Looper.loop (Looper.java:216)  at android.app.ActivityThread.main (ActivityThread.java:7263)  at java.lang.reflect.Method.invoke (Native Method)  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:494)  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:975)Caused by: java.lang.RuntimeException:   at org.apache.cordova.CordovaWebViewImpl.createEngine (CordovaWebViewImpl.java:82)  at org.apache.cordova.CordovaActivity.makeWebViewEngine (CordovaActivity.java:206)  at org.apache.cordova.CordovaActivity.makeWebView (CordovaActivity.java:202)  at org.apache.cordova.CordovaActivity.init (CordovaActivity.java:146)  at org.apache.cordova.CordovaActivity.loadUrl (CordovaActivity.java:224)  at com.bendigobank.mobileios.BendigoInvestDirect.MainActivity.onCreate (MainActivity.java:39)  at android.app.Activity.performCreate (Activity.java:7353)  at android.app.Activity.performCreate (Activity.java:7344)  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1275)  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3143)Caused by: java.lang.reflect.InvocationTargetException:   at java.lang.reflect.Constructor.newInstance0 (Native Method)  at java.lang.reflect.Constructor.newInstance (Constructor.java:343)  at org.apache.cordova.CordovaWebViewImpl.createEngine (CordovaWebViewImpl.java:80)Caused by: java.lang.RuntimeException:   at org.chromium.android_webview.AwBrowserProcess.b (PG:12)  at in.m (PG:33)  at in.a (PG:48)  at in.b (PG:16)  at com.android.webview.chromium.WebViewChromiumFactoryProvider.a (PG:32)  at com.android.webview.chromium.WebViewChromium.init (PG:12)  at android.webkit.WebView.<init> (WebView.java:678)  at android.webkit.WebView.<init> (WebView.java:604)  at android.webkit.WebView.<init> (WebView.java:587)  at android.webkit.WebView.<init> (WebView.java:574)  at org.apache.cordova.engine.SystemWebView.<init> (SystemWebView.java:47)  at org.apache.cordova.engine.SystemWebView.<init> (SystemWebView.java:43)  at org.apache.cordova.engine.SystemWebViewEngine.<init> (SystemWebViewEngine.java:76)### Command or Code<!-- What command or code is needed to reproduce the problem? -->Cannot reproduce. The crashes are happening irregularly.### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->Android### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->cordova@9.0.0cordova-plugin-wkwebview-engine@1.2.1## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","879","undefined","[object Object]","null"
"Misc assets not displaying after device/dom load","# Bug Report## ProblemWhen the app display (after the splash screen) sometimes default fonts are shown and static images aren't loaded. If you close the app an reopen, or if you can trigger a page refresh with the console, then all assets are present.### What is expected to happen?All static assets such as fonts and images would be loaded on deviceready / domready.### What does actually happen?see "problem"## Information<!-- Include all relevant information that might help understand and reproduce the problem -->This is a react JS project using cordova### Command or Code<!-- What command or code is needed to reproduce the problem? -->`cordova build ios` then run the app### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->9.0.0 (cordova-lib@9.0.1)### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->```$ cordova infocordova-lib@9.0.1 with:  cordova-common@3.2.0  cordova-create@2.0.0  cordova-fetch@2.0.1  cordova-serve@3.0.0Environment:   OS: darwin  Node: v10.15.0  npm: 6.12.0Plugins:  cordova-plugin-appcenter-analytics  cordova-plugin-appcenter-crashes  cordova-plugin-appcenter-push  cordova-plugin-appcenter-shared  cordova-plugin-compat  cordova-plugin-device  cordova-plugin-file  cordova-plugin-file-transfer  cordova-plugin-statusbar  cordova-plugin-whitelist  cordova-plugin-zip..."platforms": [      "ios",      "android"    ]```## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [ ] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","877","undefined","[object Object]","null"
"Handling android back button?","I try to navigate from Example.vue to Example2.vue by android back button my code works for os under android 8.0. On devices android upper 8.0 the back button works by history.Do you have any idea to do it?onClickBackButton() {this.$router.replace({'path': '/example2'});}mounted() {if (this.$q.platform.is.cordova) {document.addEventListener("backbutton", this.onClickBackButton, false)}}Platform:Android:","open","876","undefined","[object Object]","null"
"Android input type=file with multiple mime types in "accept" only uses the first mime type","## ProblemWhen opening the native file chooser of android from an html <input type=file> with multiple accept mime types, only the first mime type is being used to filter the allowed files.For example, `<input type="file" accept="image/png, image/gif" />` will only allow you to choose a file of type png and not gif.### What is expected to happen?When there are multiple mime types in the accept attribute, all of mime types should be allowed to be chosen from the native file chooser.### What does actually happen?Only the first mime type is accepted and all other file types are disabled and can't be chosen.## InformationTo reproduce, just create a new cordova-android project, in the **index.html** file, add the following:`<input type="file" accept="image/png, image/gif" />`Run the project on a device of emulator and try to select a gif file.### Command or CodeThe issue is in the **SystemWebChromeClient** class, the accept types need to be added as extra arguments to the intent that is bring created by the fileChooserParams.i.e., the following should fix the issue:`intent.putExtra(Intent.EXTRA_MIME_TYPES, fileChooserParams.getAcceptTypes());`The function with the fixed code should look like this:```@TargetApi(Build.VERSION_CODES.LOLLIPOP)@Overridepublic boolean onShowFileChooser(WebView webView, final ValueCallback<Uri[]> filePathsCallback, final WebChromeClient.FileChooserParams fileChooserParams) {    ....    Intent intent = fileChooserParams.createIntent();    if(fileChooserParams.getAcceptTypes() != null) {        intent.putExtra(Intent.EXTRA_MIME_TYPES, fileChooserParams.getAcceptTypes());    }    ....}```### Environment, Platform, DeviceCordova-android: 8.1.0Cordova-CLI: 9.0.0Device: Samsung Galaxy S9## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","874","undefined","","null"
"Android App Bundle: --versionCode ignored with --packageType=bundle","# Bug Report## ProblemThe following command ignore versionCode parameter when use --packageType=bundle    cordova build android -- --packageType=bundle --versionCode=500000### What is expected to happen?    cordova build android -- --packageType=bundle --versionCode=500000versionCode must not ignored when  --packageType=bundle is used### What does actually happen?Now cordova uses version from config.xml and generates version instead of using the specified in --versionCode parameters## Information<!-- Include all relevant information that might help understand and reproduce the problem -->cordova --version                                                                                                                                                                                             9.0.0 (cordova-lib@9.0.1)         ### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [ x] I searched for existing GitHub issues- [ x] I updated all Cordova tooling to most recent version- [ x] I included all the necessary information above","open","873","undefined","[object Object]","null"
"I solved one issue( its a solution)","# Bug Report## Problem> Configure project :CordovaLibProject evaluation failed including an error in afterEvaluate {}. Run with --stacktrace for details of the afterEvaluate {} error.FAILURE: Build failed with an exception.* Where:Build file '/home/deniz/Masaüstü/masaüstü/mobile/MyApp/platforms/android/CordovaLib/build.gradle' line: 48### What is expected to happen?when ı type cordova build android ,it should build app### What does actually happen?it show this error A problem occurred evaluating project ':CordovaLib'.> Failed to apply plugin [id 'com.github.dcendents.android-maven']   > Configuration with name 'testImplementation' not found.### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->Kotlin:       1.3.50Groovy:       2.5.8Ant:          Apache Ant(TM) version 1.10.7 compiled on September 1 2019JVM:          1.8.0_222 (Private Build 25.222-b10)OS:           Linux 4.15.0-70-generic amd64### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->java -versionopenjdk version "1.8.0_222"OpenJDK Runtime Environment (build 1.8.0_222-8u222-b10-1ubuntu1~18.04.1-b10)OpenJDK 64-Bit Server VM (build 25.222-b10, mixed mode)cordova -v9.0.0 (cordova-lib@9.0.1)node -vv12.9.0## Solution go to the MyApp/platforms/android/CordovaLib/build.gradle' line: 35change to classpath 'com.github.dcendents:android-maven-gradle-plugin:2.1' to classpath 'com.github.dcendents:android-maven-gradle-plugin:1.5'","open","872","undefined","","null"
"Method isUrlWhiteListed use unsafe function causes url whitelist to bypass","# Bug ReportMethod isUrlWhiteListed use unsafe function causes url whitelist to bypass## Problemthe Java file is :https://github.com/apache/cordova-android/blob/master/framework/src/org/apache/cordova/Whitelist.javathe method is :public boolean isUrlWhiteListed(String uri) {        // If there is no whitelist, then it's wide open        if (whiteList == null) return true;        Uri parsedUri = Uri.parse(uri);        // Look for match in white list        Iterator<URLPattern> pit = whiteList.iterator();        while (pit.hasNext()) {            URLPattern p = pit.next();            if (p.matches(parsedUri)) {                return true;            }        }        return false;    }some app which use cordova framework that  can open external url  with WebView(this url is from other app or by url scheme)，and it use method isUrlWhiteListed to check the external url  is or not in the url whiteList。If the url is not in the url whiteList that can't open by WebView . If it in the url whiteList so opened by WebView and js can invoke java method if  the addJavascriptInterface has been add.Method isUrlWhiteListed use android.net.Uri to parse the input uri，but android.net.Uri  below android8.1 for example android7.1.1 is unsafe so the url can be bypass if the input uri is a evil uri .For example: the url whiteList has two url http://www.my.com、http://www.my1.com,if the evil uri this http://www.evil.com\\@www.my1.com. so the return value of method  isUrlWhiteListed is true.if the app can be open by url scheme like this : scheme://webview?url=http://www.evil.com\\@www.my1.com,we can use remote attack to invoke Java method by addJavascriptInterface has been addps:android.net.Uri cve is :@ bypass is CVE-2017-13176， patch 2018-01-01，https://android.googlesource.com/platform/frameworks/base/+/4afa0352d6c1046f9e9b67fbf0011bcd751fcbb5\ bypass is CVE-2017-13274，patch 2018-04-01，https://android.googlesource.com/platform/frameworks/base/+/0b57631939f5824afef06517df723d2e766e0159### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->below android8.1 for example android7.1.1 which can experience the issue### Version information<!-- What are relevant versions you are using?https://github.com/apache/cordova-android/blob/master/framework/src/org/apache/cordova/Whitelist.java-->### How to resolve it use java.net.URI","open","871","undefined","","null"
"unable to display in native resolution on Android","On android it is impossible to display the cordova webview in native full resolution.the webview is currently always using CSS Units so the rendering of the webview is divided by the pixel density of the devise, rendering the view in a very low resolution.Scaling the view is not fixing this issues, neither forcing the user-agent to the "desktop-view" value.We should have a way to force Cordova to render in "Desktop-View" in cordova Android or in native resolution.#https://github.com/apache/cordova-lib/issues/718others experiencing the same issue:@tscislo @brodybits @rokobuljan @getDOKI @basvanmeurs @jameelio @geniusq1981_Case is：making a web app on android TV with cordova.The TV device resolution is 1920x1080.but when I run the app , the window.innerwidth/innerheight is 960x540 though it is fullscreen also.While the html page is designed with 1920*1080 , so it was shown partly.I find nothing useful about this from the cordova offical guideline._","open","870","undefined","","null"
"Upgrading Cordova Android version cause INSTALL_FAILED_UPDATE_INCOMPATIBLE","<!--Please have a look at the issue templates you get when you click "New issue" in the GitHub UI.We very much prefer issues created by using one of these templates.-->### Issue Type<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [ ] Bug Report- [ ] Feature Request- [x] Support Question## DescriptionI had to upgrade the Cordova Android version to 8.1.0 from 7.1.1 in order to support targetSdkVersion to 28.After upgrade to the latest version of Cordova Android, I add the below entry in the config file.```   <preference name="android-targetSdkVersion" value="28" />```With the above changes, my app builds and generates APK successfully. However, when I try to deploy(cordova run android) this newly generated APK to my device(which has already installed the app from play store), I get the following error.“INSTALL_FAILED_UPDATE_INCOMPATIBLE signatures do not match the previously installed version”To resolve this issue, I have to uninstall the current version from my phone and clean reinstall. It would work but it is not ideal behavior as uninstalling the previous version and installing a brand new version would loss existing user settings and etc. Please help!## Information<!-- Include all relevant information that might help understand and reproduce the problem -->1. Upgrade Cordova platform version from 7.1.1 to 8.1.02. In Config.xml add a new flag `android-targetSdkVersion` with value 283. run cordova build android --release4. run corodva run android --release### Command or Code<!-- What command or code is needed to reproduce the problem? -->cordova run android### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->Cordova Platform AndroidDevice: Samsung S9 running Android version 9### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->Cordova Android 8.1.0## Checklist<!-- Please check the boxes by putting an `x` in the `[ ]` like so: `[x]` -->- [x] I searched for already existing GitHub issues about this- [x] I updated all Cordova tooling to their most recent version- [x] I included all the necessary information above","open","869","undefined","[object Object]","null"
"Feat: add custom repositories support"," ### Platforms affectedandroid### Motivation and ContextSince the last, two days long, bintray outage, we desperately need a better way to provide alternate custom repositories locations. Especially when you already have a local repository like Nexus or Artifactory.Every suggestion on StackOverflow was more like a brittle workaround then a solution.The good thing is, if you don’t need it, just ignore it :)!### DescriptionI just seperated the repositories in the existing build.gradle files. With the the cordova config.xml and following task:```<resource-file src="extra.gradle" target="repositories.gradle" /><resource-file src="extra.gradle" target="app/repositories.gradle" /><resource-file src="extra.gradle" target="CordovaLib/repositories.gradle" />```we can easily overwrite the existing repositories without the need of a hook.### Checklist- [x] I've run the tests to see all new and existing tests pass- [ ] I added automated test coverage as appropriate for this change- [ ] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [ ] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [ ] I've updated the documentation if necessary","open","867","undefined","[object Object]","null"
"Gradle home for cordova only - to be able to have multiple gradle installtions on the pc","# Feature Request## Motivation Behind FeatureMy company is working with multiple applications. One of them is Java where we already use several different gradle version. It must be able to have some gradle binaries which will be used from cordova only.## Feature DescriptionCordova shall check a new env var if there is a value set it should be used from cordova as gradle home. orCordova shall check if there is gradle path defined in the project (in conifg.xml or package.json?) and if it's set it should use this as gradle home. If not the default logic can be performed, to keep the software backward compatible## Alternatives or WorkaroundsNo known for meRemarkds / Ideas / Suggestions? Regards","open","866","undefined","","null"
"Issues when accessing android assets through browser","# Bug ReportUsing 'cordova serve' command, I start cordova static page server.This server should give me access to any platform www assets using a url with 'http://HOST_IP:PORT/PLATFORM/www' format, just as mentioned in the command docs.The thing is that in the case of android, some weird prompts appear in browser and if you click ok to all of them, browser will start loading to the point it hangs forever.First prompt message: gap_init:3Second prompt message: gap:[0,"CoreAndroid","messageChannel","CoreAndroid914833860"]Third prompt message: gap:[0,"CoreAndroid","show","CoreAndroid47601542"]**After couple of tests, I noticed that on browser tab change prompts are gone and page is loaded successfully.### What is expected to happen?Load page without issues.### What does actually happen?First prompt message: gap_init:3Second prompt message: gap:[0,"CoreAndroid","messageChannel","CoreAndroid914833860"]Third prompt message: gap:[0,"CoreAndroid","show","CoreAndroid47601542"]### Command or Codecordova serve### Environment, Platform, DeviceWindows 10### Version informationCordova 9.0.0## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","865","undefined","","null"
"Hardware Back Button ISSUE","# Bug Report## ProblemI am currently working in IONIC with CORDOVA plugins and platforms ,i am facing an issue in hardware back button ### What is expected to happen?when the user opens the application,once the application is opened when the hardware button is pressed its should pop up the alert message like do you wanna exit yes or no when yes is pressed app should terminate.### What does actually happen?Once the app is opened  when the hardware button is pressed the app terminates without alert but when a click is made inside or any other navigation is made then afterwards coming back to the same home page when pressing the hardware back button the exitapp() alert is shown...## InformationI've used android version (OREO)8 in this application on degrading the version to (LOLLIPOP) 5 its working perfectly.### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->PLATFORM-ANDROIDDEVICE-NEXUS### Version information Ionic CLI                     : 5.2.7 (/usr/local/lib/node_modules/ionic)   Ionic Framework               : @ionic/angular 4.2.0   @angular-devkit/build-angular : 0.13.8   @angular-devkit/schematics    : 7.2.4   @angular/cli                  : 7.3.8   @ionic/angular-toolkit        : 1.4.1Cordova:   Cordova CLI       : 9.0.0 (cordova-lib@9.0.1)   Cordova Platforms : android 8.0.0   Cordova Plugins   : cordova-plugin-ionic-webview 3.1.2, (and 28 other plugins)System:   Android SDK Tools : 26.1.1    NodeJS            : v10.15.3    npm               : 6.4.1   OS                : Linux 4.4## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [ ] I included all the necessary information above","open","864","undefined","","null"
"chore: replace superspawn & child_process with execa","### Motivation and Contexthttps://github.com/apache/cordova/issues/16Includes commit from #860 (will rebase ASAP). Depends on #832 and #861.### DescriptionReplace `superspawn` & `child_process` usage with `execa`.### Testing- `npm t`### Checklist- [x] I've run the tests to see all new and existing tests pass","open","862","undefined","[object Object]","[object Object]"
"Don't filter gradle's stderr anymore","### Motivation and Context<!-- Why is this change required? What problem does it solve? --><!-- If it fixes an open issue, please link to the issue here. -->When building the project by running `gradlew`, we filter its output on `stderr` to omit a specific diagnostic message. This complicated refactorings in the past and also affects upcoming refactorings regarding `Q` and `superspawn`.The [reason this code exists](https://issues.apache.org/jira/browse/CB-9971) is a weak one IMHO. The Visual Studio integration deemed the build to have failed if anything has been output on `stderr`. Thus the aforementioned diagnostic message on `stderr` caused successful builds to count as failed ones.IMHO, the current behavior should be removed for various reasons:- Diagnostics on `stderr` are not uncommon, so the success of the command should be determined from the returned `Promise` or the process' exit code respectively- Unclear if code works correctly & reliably: the code is written as if only complete lines were passed into `progress`. But [`superspawn` calls `notify` for every `chunk` it receives in a `data` event on `stderr`](https://github.com/apache/cordova-common/blob/8bd95b4c11b3c0d9b42e6607d51778077da58746/src/superspawn.js#L111-L115). AFAIK it is not guaranteed that these chunks will be individual and complete lines.- Unclear if code is up-to-date- Code is untested- Complicates refactorings### Description<!-- Describe your changes in detail -->This PR removes all output filtering in `ProjectBuilder.prototype.build`.### Testing<!-- Please describe in detail how you tested your changes. -->Automated tests still pass.","open","860","undefined","","[object Object]"
"[Major] Removed unnecessary project name restriction","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? --><!-- If it fixes an open issue, please link to the issue here. -->There was a condition in `validateProjectName` that prevented the project name from started with a number. It was found that this was added approximately 5 years ago, and it was assumed that once upon a time, this was because project names were used to generate a java class, based on the comments. However, that no longer appears to be the case.Being able to support project names that starts with a number is important and perfectly valid (e.g: [8 Ball Pool](https://play.google.com/store/apps/details?id=com.miniclip.eightballpool)).It fixes #584 and fixes #701  where lots of people requested this change.### Description<!-- Describe your changes in detail -->Simply removed the condition preventing project names from starting with a number. `validateProjectName` has two other checks which were left untouched. I've also updated the comments to remove any references suggesting that successful `validateProjectName` calls means its safe to use the string as a java class name.There was a unit test test for failure for project names starting with numbers which have been removed. Two items were added for the `valid` list for valid name checks which includes names starting with numbers.### Testing<!-- Please describe in detail how you tested your changes. -->Manual testing using:- `cordova platform add`- `cordova build android`- `cordova run android`### Checklist- [x] I've run the tests to see all new and existing tests pass- [x] I added automated test coverage as appropriate for this change- [x] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [x] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [x] I've updated the documentation if necessary","open","859","undefined","","[object Object]"
"Android INTERNET access permissions not being added in AndroidManifest.xml using Cordova 9.0.0","# Bug Report## ProblemAndroid INTERNET access permissions not being added in AndroidManifest.xml using Cordova 9.0.0### What is expected to happen?in the previous cordova versions, uses-permission was added directly in the AndroidManifest.xml file without any explicity permission addition in the config.xml### What does actually happen?Now, the permissions are not added in the AndroidManifest.xml. We should explicitly add them from the config.xml. This does not occur with phonegap build.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->Just try to add a plugin which will make use of INTERNET access. On adding this plugin with cordova version less than 8.1.0 there are no conflicts. But with cordova 9.0.0, we observe that network calls are failing as there is no internet access permission included in AndroidManifest.xml file.### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->Cordova cli 9.0.0cordova-android 8.0.0plugins used arecordova-plugin-app-version 0.1.9cordova-cookie-emperorcordova-plugin-customurlscheme 4.3.0 cordova-plugin-device 2.0.3 cordova-plugin-file  6.0.1cordova-plugin-file-opener2cordova-plugin-file-transfer 1.7.1cordova-plugin-inappbrowser  3.0.0 cordova-plugin-mediascanner  0.1.3 cordova-plugin-splashscreen 5.0.2 cordova-plugin-statusbar  2.4.2 cordova-plugin-transport-security  0.1.2cordova-plugin-whitelist 1.3.3 cordova-plugin-zeep  0.0.4## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [ ] I updated all Cordova tooling to most recent version- [ ] I included all the necessary information aboveSimilar issue found https://github.com/apache/cordova/issues/95","open","857","undefined","","null"
"How to enable WebView for a Cordova Hybrid Mobile App?","When I get context handles from code, I only see "Native". How do I enable WebView for a Cordova Mobile App (Hybrid). Is there a setting in project files that enables the WebView ? Please advise.Unable to find a setting that sets the WebView = trueI am trying to get context handles for this Hybrid Mobile App ( Cordova ) and I see only native. I need to be able to get WebView to interact with the mobile elements for UI testing using Appium.From the documentation, I can see that the method setWebContentsDebuggingEnabled is accountable for debugging web contents and is default set to false. How do I set this to true for a Cordova Mobile App (hybrid) project ? Further More: In my case, It is necessary to set to true the setWebContentsDebuggingEnabled property on the android.webkit.WebView element. How can I set this ?  Source: appium.io/docs/en/writing-running-appium/web/hybrid    ","open","856","undefined","[object Object]","null"
"Ready for Chrome 80's [Cookies default to SameSite=Lax] ? ","I noticed warnings in my chrome debug console,```A cookie associated with a cross-site resource at http://xxx.xxx.xxx.xxx/ was set without the SameSite attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with SameSite=None and Secure. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032.```After some digging by google,  I tested1. add cookie header [SameSite=Lax] on server1. run my cordova android application.1. my application does not work for authenticated user, because cookie JSessionId is not sent to server any more. (we send cookie to server from local html file's webview by ajax or xhr)Actually chrome tell us we should set SameSite=None+Secure for cookie in Chrome 80, and that's a solution precisely. But for some reason, we can not do that. According to Apple's WkWebview [Bug 198181 - Cookies with SameSite=None or SameSite=invalid treated as Strict](https://bugs.webkit.org/show_bug.cgi?id=198181) ,  the fix is only for 10.15 and iOS 13 and later ver, and that means, If we set SameSite=None+Secure on server, our iOS application will not work also for iOS 12 and before ver.  Is there any other simple solution to deal with our situation? any suggestions will be greatly appreciated.ref: https://textslashplain.com/2019/09/30/same-site-cookies-by-default","open","850","undefined","[object Object]","null"
"Fix: Cordova requirements consider the android-targetSdkVersion","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? --><!-- If it fixes an open issue, please link to the issue here. -->This PR fixes `cordova requirements android` to consider the desired target SDK as defined by the `android-targetSdkVersion` preference in the project's `config.xml`.Fixes #846 Currently, while `cordova-android` *can* use a higher target... it fails the `cordova requirements android` check if the hard-coded defined target is not installed on the system.### Description<!-- Describe your changes in detail -->I've changed `check_reqs.js` `get_target` to do the following:1. Get the default/minimum required target sdk, as defined by `cordova-android`2. Check if `config.xml` exists in the repo.3. If so, then attempt to read the `android-targetSdkVersion` preference.3. 1. If read... check for validity3. 1. 1. If valid, and is >= the default target sdk, then change the target to the preference value3. 1. 2. If not valid, then fallback to default.3. 1. 3. If not valid because preference target is < default target, then produce a warning.3. 2. if `config.xml`, then fall back to default.Naturally, if `get_target` returns 29, then the user must have the android 29 SDK installed, otherwise `check_android_target` will fail, as expected.Unit tests were added to thoroughly test `get_target`.### Testing<!-- Please describe in detail how you tested your changes. -->Ran `npm test`, with newly added unit tests.Also tested the code in a real project and manually observing the results of `cordova requirements android`.### Checklist- [x] I've run the tests to see all new and existing tests pass- [x] I added automated test coverage as appropriate for this change- [x] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [x] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [x] I've updated the documentation if necessary","open","849","undefined","","null"
"Increased default target sdk to 29","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? --><!-- If it fixes an open issue, please link to the issue here. -->Increases the default target/compile SDK version to 29, up from API level 28.Fixes #830 ### Description<!-- Describe your changes in detail -->Changed build tools to version 29.0.2changed target SDK to 29Changed compile SDK to 29Changed the tests to use version 29.### Testing<!-- Please describe in detail how you tested your changes. -->Ran `npm test`### Checklist- [x] I've run the tests to see all new and existing tests pass- [x] I added automated test coverage as appropriate for this change- [x] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [x] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [x] I've updated the documentation if necessary","open","848","undefined","","[object Object]"
"Broken app icon with cordova android 8.0.0/8.0.1","<!--Please have a look at the issue templates you get when you click "New issue" in the GitHub UI.We very much prefer issues created by using one of these templates.-->### Issue Type<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] Bug Report- [ ] Feature Request- [ ] Support Question## DescriptionAfter updating Cordova Android to version 8.0.0/8.0.1, newer Android phones show generic Android icon for the app on the home screen of the phone, instead of the app icon generated in the resource folder of the project.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->The issue might only be present for phones that can show adaptive icons### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->Ionic 3.20Cordova Android 8.0.0### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->cli packages: (/usr/local/lib/node_modules)    @ionic/cli-utils  : 1.19.2    ionic (Ionic CLI) : 3.20.0global packages:    cordova (Cordova CLI) : 9.0.0 (cordova-lib@9.0.1) local packages:    @ionic/app-scripts : 3.2.4    Cordova Platforms  : android 8.0.0 browser 5.0.4 ios 5.0.1    Ionic Framework    : ionic-angular 3.9.8System:    ios-deploy : 1.9.2     ios-sim    : 6.1.3     Node       : v8.11.1    npm        : 5.6.0     OS         : macOS    Xcode      : Xcode 11.0 Build version 11A420a Environment Variables:    ANDROID_HOME : not setMisc:    backend : pro## Checklist<!-- Please check the boxes by putting an `x` in the `[ ]` like so: `[x]` -->- [x] I searched for already existing GitHub issues about this- [x] I updated all Cordova tooling to their most recent version- [x] I included all the necessary information above","open","847","undefined","","null"
"Can't find Gradle (Android Studio)","# Bug Report## ProblemCould not find an installed version of Gradle either in Android Studio,or on your system to install the gradle wrapper. Please include gradlein your path, or install Android Studio.# What is expected to happen?Just work. The message is wrong. Android Studio is already installed.Leave a link to the docs for this problem. Because everything is correctly setup (by the message).Also the enviroment path variables are set. ### What does actually happen?The Android Studio is installed and I can use it. I already installed a apk by the Studio and Flutter.But Cordova does not work. ### InformationThe whole Android enviroment and JDK 1.8 (8), Ionic, Cordova etc. are installed.I can run Android apps on my physical phone. e.g. using Flutter and the Android Studio.It's always tortuous to bring Cordova Android to get running.### Command or Code`ionic cordova run android`### Environment, Platform, DeviceRunning Cordova 9 with native-run of Ionic 4 on Windows 10 64bit.### Version information<details>  <summary>Click to expand</summary>Ionic:   Ionic CLI                     : 5.2.5   Ionic Framework               : @ionic/angular 4.9.0   @angular-devkit/build-angular : 0.801.3   @angular-devkit/schematics    : 8.1.3   @angular/cli                  : 8.1.3   @ionic/angular-toolkit        : 2.0.0Cordova:   Cordova CLI       : 9.0.0 (cordova-lib@9.0.1)   Cordova Platforms : android 8.0.0Utility:   cordova-res : not installed   native-run  : 0.2.8System:   NodeJS : v10.16.3   npm    : 6.9.0   OS     : Windows 10</details>## Checklist- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above## WorkaroundInstall [Gradle](https://gradle.org/) manually. Maybe the latest Android Studio does not include it for external usage. Whatever... Cordova should remove it from the error text. Because it's not solved by installing the Android Studio. In my case I already had and set up the environment variables. But still not worked.","open","845","undefined","[object Object],[object Object]","null"
"android-targetSdkVersion preference not honoured","# Bug Report## ProblemUsing the `android-targetSdkVersion` [preference](https://cordova.apache.org/docs/en/latest/config_ref/index.html#preference) does not work.### What is expected to happen?The project should use the desired android sdk version as defined in the preference, or fallback to the platform default if not set.### What does actually happen?The preference is not considered, and the target sdk always gets set to `28`.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->The code that appears to gets the desired target can be found here: https://github.com/apache/cordova-android/blob/c35a990c09f1ab278873754eb7f81e52250893a3/bin/templates/cordova/lib/check_reqs.js#L50-L70Originally discovered after I suggested to use the `android-targetSdkVersion` preference on https://github.com/apache/cordova-android/issues/830### Command or Code<!-- What command or code is needed to reproduce the problem? -->This is the full `config.xml`:```xml<?xml version='1.0' encoding='utf-8'?><widget id="com.breautek.cordova.api29" version="1.0.0" xmlns="http://www.w3.org/ns/widgets" xmlns:cdv="http://cordova.apache.org/ns/1.0">    <name>HelloCordova</name>    <description>        A sample Apache Cordova application that responds to the deviceready event.    </description>    <author email="dev@cordova.apache.org" href="http://cordova.io">        Apache Cordova Team    </author>    <content src="index.html" />    <plugin name="cordova-plugin-whitelist" spec="1" />    <access origin="*" />    <allow-intent href="http://*/*" />    <allow-intent href="https://*/*" />    <allow-intent href="tel:*" />    <allow-intent href="sms:*" />    <allow-intent href="mailto:*" />    <allow-intent href="geo:*" />    <platform name="android">        <allow-intent href="market:*" />    </platform>    <platform name="ios">        <allow-intent href="itms:*" />        <allow-intent href="itms-apps:*" />    </platform>    <preference name="android-targetSdkVersion" value="29" /></widget>```### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->UbuntuAndroid### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->Cordova `9.0.0 (cordova-lib@9.0.1)`cordova-android `8.1.0`Ubuntu `18.04`## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","846","undefined","[object Object]","null"
"Borderless/notch devices doesn't display a fully fullscreen mode","# Bug ReportHello, I'm not sure where I should open this issue. I have already tried [here](https://github.com/mesmotronic/cordova-plugin-fullscreen/issues/38) but the issue has been closed quickly because:> it appears to be a wider Cordova issue rather than a plugin issue.## ProblemThe webview isn't taking the whole space on new Android wide and borderless devices (such as Samsung Galaxy s10, Google Pixel 3XL or OnePlus 6T). As you can see on the attached file, the app is disturbed/displaced from the left side (or top side in portait) which is displaying a black area.![android-bordeless-fullscreen-ultrawide](https://user-images.githubusercontent.com/21133515/65510499-5fe8bf80-ded5-11e9-9230-3c8b3059f577.png)Of course I use the `<preference name="Fullscreen" value="true" />` in my **config.xml**.### What is expected to happen?The app webview should be displayed correctly, 100% fullscreen, without that black area. My app works and displays well on all 'normal' Android devices.## InformationI found some help on [StackOverflow](https://stackoverflow.com/a/54369068/2908227) about how to let the webview taking 100% of the screen.First you have to create a new **styles.xml** at the www/ root folder. The **styles.xml** files contains:```xml<resources>    <style name="Full">        <item name="android:windowLayoutInDisplayCutoutMode">shortEdges</item>    </style></resources>```Then in the  **config.xml** files you have to custom/edit with:```xml<platform name="android">    <resource-file src="www/styles.xml" target="app/src/main/res/values-v28/styles.xml" />    <edit-config file="AndroidManifest.xml" mode="merge" target="/manifest/application">        <application android:resizeableActivity="false"/>    </edit-config>    <edit-config file="AndroidManifest.xml" mode="merge" target="/manifest/application/activity">        <activity android:theme="@style/Full"/>    </edit-config>    <config-file parent="./application" target="AndroidManifest.xml">        <meta-data android:name="android.max_aspect" android:value="5.0" />    </config-file></platform>```Ok well, this fix the problem. But! This causes new issues such as (see attached file below):1 - the Status Bar can't be hidden anymore during app launch. I tried all methods with [StatusBar.hide()](https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-statusbar/#statusbarhide) and the [immersiveMode() fullscreen plugin](https://github.com/mesmotronic/cordova-plugin-fullscreen) but nothing helps.2 - Also, the Splaschreen can't appears fully fullscreen. There is still an empty area on left side even if the app will fit all the screen area after the Splaschreen sequence. I tried to create a splash image larger than the device, it doesn't works. Plus, you get the UI (buttons bar) displaying on the right side for a few seconds at the app launch.![android-theme-full](https://user-images.githubusercontent.com/21133515/65511395-6a0bbd80-ded7-11e9-935a-67b4ce0adb80.png)Did you guys encountered same issues with those borderless devices?What method we should use to let the webview taking 100% of the screen?Any suggestions would be really welcome. Thanks.### Environment, Platform, DeviceMac OS Mojave 10.14.6I do my test on devices by uploading APK on the Live App service from Browserstack (which launch **real** devices through the cloud, not emulators).### Version information- Cordova 9.0.1- Android 8.1.0## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","844","undefined","","null"
"android.support.v4.app.Fragment/androidx.app.Fragment support","# Feature Request## Motivation Behind Featureandroid.support.v4.app.Fragment/androidx.app.Fragment support needed because at least one of native Android libraries use support Fragments to display a view. androidx.app.Fragment needed in androidx.biometric for example. I think it will be convenient in cases of another plugins as well.## Feature DescriptionIt probably will be enough to change the base class of the `CordovaActivity` from `android.app.Activity` to `android.support.v7.app.AppCompatActivity`/ `androidx.appcompat.app.AppCompatActivity`.","open","841","undefined","","null"
"WIP: ShellJS refactoring","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? --><!-- If it fixes an open issue, please link to the issue here. -->Replaces `shelljs` with favour for native `fs` APIs, or apis from `fs-extra`Fixes https://github.com/apache/cordova-android/issues/781### Description<!-- Describe your changes in detail -->All shelljs code has been removed and replaced. In some cases, `which` package was used as a replacement.### Testing<!-- Please describe in detail how you tested your changes. -->`npm test` passes. Manual testing has been done on linux by using `cordova platform add <my git fork>`Windows has not been tested. Test are pending.Mac has has also not been tested. I don't have easy access to a mac machine, so assistance here would help me.### Checklist- [x] I've run the tests to see all new and existing tests pass- [ ] I added automated test coverage as appropriate for this change- [ ] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [x] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [x] I've updated the documentation if necessary","open","842","undefined","","[object Object]"
"Gradle Sync Issues: "NdkCompile is no longer supported"","# Bug ReportINFO: The following project options are deprecated and have been removed: android.useDeprecatedNdkNdkCompile is no longer supportedAffected Modules: CordovaLib, app### environment：Android Studio3.5cordova  version 9.0.0 (cordova-lib@9.0.1)classpath 'com.android.tools.build:gradle:3.5.0'distributionUrl=https\://services.gradle.org/distributions/gradle-5.4.1-all.zip","open","834","undefined","[object Object],[object Object]","null"
"Cordova Android 8.0.0 app crashes after signing","After signing my Cordova Android 8.0.0 application and deploying it to a device, the app crashes. The crashes occur on Android 9 and Android 10 devices in most cases Samsung devices. This is my ionic info    Ionic:           Ionic CLI         : 5.4.1 (/usr/local/lib/node_modules/ionic)       Ionic Framework   : ionic1 1.3.3       @ionic/v1-toolkit : 1.0.14        Cordova:           Cordova CLI       : 9.0.0 (cordova-lib@9.0.1)       Cordova Platforms : android 8.0.0       Cordova Plugins   : no whitelisted plugins (19 plugins total)        Utility:           cordova-res : 0.6.0        native-run  : 0.2.8         System:           Android SDK Tools : 26.1.1 (/Users/******/Library/Android/sdk/)       ios-deploy        : 2.0.0       NodeJS            : v11.10.1 (/usr/local/bin/node)       npm               : 6.7.0       OS                : macOS MojaveHere is a list of my installed Cordova plugins    cordova-plugin-android-fingerprint-auth 1.5.0 "FingerprintAuth"    cordova-plugin-android-permissions 0.11.0 "Permissions"    cordova-plugin-apple-watch 0.11.5 "Apple Watch"    cordova-plugin-camera 2.3.1 "Camera"    cordova-plugin-compat 1.2.0 "Compat"    cordova-plugin-contacts 2.3.1 "Contacts"    cordova-plugin-device 1.1.3 "Device"    cordova-plugin-dialogs 1.2.0 "Notification"    cordova-plugin-email-composer 0.8.3 "EmailComposer"    cordova-plugin-file 6.0.2 "File"    cordova-plugin-file-opener2 2.1.3 "File Opener2"    cordova-plugin-file-transfer 1.4.0 "File Transfer"    cordova-plugin-geolocation 1.0.1 "Geolocation"    cordova-plugin-inappbrowser 3.1.0 "InAppBrowser"    cordova-plugin-media 5.0.3 "Media"    cordova-plugin-media-capture 3.0.3 "Capture"    cordova-plugin-splashscreen 5.0.3 "Splashscreen"    cordova-plugin-statusbar 2.0.0 "StatusBar"    cordova-plugin-vibration 2.0.0 "Vibration"    cordova-plugin-whitelist 1.3.4 "Whitelist"    cordova-plugin-x-socialsharing 5.4.3 "SocialSharing"    cordova.plugins.diagnostic 2.3.11 "Diagnostic"    es6-promise-plugin 4.2.2 "Promise"    ionic-plugin-deploy 0.6.7 "IonicDeploy"Logs from LogCat is this, but I am unable to deduce what the issue is.    019-10-02 16:13:19.603 1403-16289/? E/ANDR-PERF-JNI:    om_qualcomm_qtiperformance_native_perf_io_prefetch_start 2019-10-02    6:13:19.604 808-808/? E/ANDR-IOP: IOP HAL: Received pkg_name =    om.****** pid = -1 2019-10-02 16:13:19.606 808-834/?    /ANDR-IOP: io prefetch is disabled 2019-10-02 16:13:19.677 651-651/?    /audit: avc:  denied  { find } for service=gpu pid=2045 uid=10299    context=u:r:untrusted_app:s0:c43,c257,c512,c768    context=u:object_r:gpu_service:s0 tclass=service_manager permissive=0    019-10-02 16:13:19.678 2045-2526/? E/GraphicsEnv: Failed to get gpu    ervice 2019-10-02 16:13:19.718 1403-16289/? E/PackageManager: Failed    o find package; permName: android.permission.INTERNET, uid: 99255,    aller: 1000 2019-10-02 16:13:19.731 2541-2541/? E/Zygote: accessInfo     0 2019-10-02 16:13:19.747 2541-2541/? E/dboxed_process: Not starting    ebugger since process cannot load the jdwp agent. 2019-10-02    6:13:19.823 2045-2045/? E/StatusBar: Invalid hexString argument, use    .i. '#999999' 2019-10-02 16:13:19.840 596-596/? E/audit: avc:  denied     find } for interface=vendor.display.config::IDisplayConfig    id=u:r:hal_configstore_default:s0 pid=787    context=u:r:hal_configstore_default:s0    context=u:object_r:hal_display_config_hwservice:s0    class=hwservice_manager permissive=0 2019-10-02 16:13:19.841    03-703/? E/audit: type=1400 audit(1570029199.829:6977): avc:  denied      getattr } for  pid=596 comm="hwservicemanage" name="avc_msg"    ev="proc" ino=4026533870 scontext=u:r:hwservicemanager:s0    context=u:object_r:proc_avc_msg:s0 tclass=file permissive=0    EPF_SM-N970U1_9_0009 audit_filtered 2019-10-02 16:13:19.841 703-703/?    /audit: type=1300 audit(1570029199.829:6977): arch=c00000b7    yscall=56 success=yes exit=8 a0=ffffff9c a1=7984923880 a2=1 a3=0    tems=0 ppid=1 pid=596 auid=4294967295 uid=1000 gid=1000 euid=1000    uid=1000 fsuid=1000 egid=1000 sgid=1000 fsgid=1000 tty=(none)    es=4294967295 comm="hwservicemanage"    xe="/system/bin/hwservicemanager" subj=u:r:hwservicemanager:s0    ey=(null) 2019-10-02 16:13:19.841 703-703/? E/audit: type=1327    udit(1570029199.829:6977): proctitle="/system/bin/hwservicemanager"    019-10-02 16:13:19.842 596-596/? E/audit: avc:  denied  { find } for    nterface=vendor.display.config::IDisplayConfig    id=u:r:hal_configstore_default:s0 pid=787    context=u:r:hal_configstore_default:s0    context=u:object_r:hal_display_config_hwservice:s0    class=hwservice_manager permissive=0 2019-10-02 16:13:19.842    03-703/? E/audit: type=1400 audit(1570029199.829:6978): avc:  denied      getattr } for  pid=596 comm="hwservicemanage" name="avc_msg"    ev="proc" ino=4026533870 scontext=u:r:hwservicemanager:s0    context=u:object_r:proc_avc_msg:s0 tclass=file permissive=0    EPF_SM-N970U1_9_0009 audit_filtered 2019-10-02 16:13:19.842 703-703/?    /audit: type=1300 audit(1570029199.829:6978): arch=c00000b7    yscall=56 success=yes exit=8 a0=ffffff9c a1=7984923880 a2=1 a3=0    tems=0 ppid=1 pid=596 auid=4294967295 uid=1000 gid=1000 euid=1000    uid=1000 fsuid=1000 egid=1000 sgid=1000 fsgid=1000 tty=(none)    es=4294967295 comm="hwservicemanage"    xe="/system/bin/hwservicemanager" subj=u:r:hwservicemanager:s0    ey=(null) 2019-10-02 16:13:19.842 703-703/? E/audit: type=1327    udit(1570029199.829:6978): proctitle="/system/bin/hwservicemanager"    019-10-02 16:13:19.924 14964-14964/? E/pageboostd: Received HALT    ommand code 2 2019-10-02 16:13:20.026 1403-3224/? E/WindowManager:    in=Window{4649360 u0 Splash Screen com.******* EXITING}    estroySurfaces: appStopped=false win.mWindowRemovalAllowed=true    in.mRemoveOnExit=true win.mViewVisibility=0    aller=com.android.server.wm.AppWindowToken.destroySurfaces:896    om.android.server.wm.AppWindowToken.destroySurfaces:877    om.android.server.wm.WindowState.onExitAnimationDone:5496    om.android.server.wm.WindowStateAnimator.onAnimationFinished:320    om.android.server.wm.WindowState.onAnimationFinished:5920    om.android.server.wm.-$$Lambda$yVRF8YoeNdTa8GR1wDStVsHu8xM.run:2    om.android.server.wm.SurfaceAnimator.lambda$getFinishedCallback$0:100    019-10-02 16:13:20.033 1403-14496/? E/WindowManager:    in=Window{242c03a u0    om.sec.android.app.launcher/com.sec.android.app.launcher.activities.LauncherActivity}    estroySurfaces: appStopped=false win.mWindowRemovalAllowed=false    in.mRemoveOnExit=false win.mViewVisibility=8    aller=com.android.server.wm.WindowManagerService.tryStartExitingAnimation:2769    om.android.server.wm.WindowManagerService.relayoutWindow:2466    om.android.server.wm.Session.relayoutForTranslate:308    ndroid.view.IWindowSession$Stub.onTransact:518    om.android.server.wm.Session.onTransact:192    ndroid.os.Binder.execTransact:739 <bottom of call stack>  2019-10-02    6:13:20.439 716-736/? E/Netd: getNetworkForDns: getNetId from    nterpriseCtrl is netid 0 2019-10-02 16:13:21.070 2045-2573/? A/libc:    atal signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x54 in    id 2573 (Chrome_InProcGp), pid 2045 (****) 2019-10-02    6:13:21.108 2604-2604/? E/crash_dump64: unknown process state: t    019-10-02 16:13:21.139 2604-2604/? A/DEBUG: *** *** *** *** *** ***    ** *** *** *** *** *** *** *** *** *** 2019-10-02 16:13:21.139 2604-2604/? A/DEBUG: Build fingerprint:    samsung/d1que/d1q:9/PPR1.180610.011/N970U1UEU1ASHE:user/release-keys'    019-10-02 16:13:21.139 2604-2604/? A/DEBUG: Revision: '9' 2019-10-02    6:13:21.139 2604-2604/? A/DEBUG: ABI: 'arm64' 2019-10-02 16:13:21.139    604-2604/? A/DEBUG: pid: 2045, tid: 2573, name: Chrome_InProcGp  >>>    om.***** <<< 2019-10-02 16:13:21.139 2604-2604/? A/DEBUG:    ignal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x54 2019-10-02    6:13:21.139 2604-2604/? A/DEBUG: Cause: null pointer dereference    019-10-02 16:13:21.139 2604-2604/? A/DEBUG:     x0  000000769b035900     1  000000769becb080  x2  0000000000000001  x3  000000769aa5d000    019-10-02 16:13:21.139 2604-2604/? A/DEBUG:     x4  000000769d538f80     5  000000000000000b  x6  0000000000000000  x7  0000000031465451    019-10-02 16:13:21.139 2604-2604/? A/DEBUG:     x8  0000000000000001     9  000000000000001c  x10 0000000000000017  x11 000000000000000f    019-10-02 16:13:21.139 2604-2604/? A/DEBUG:     x12 0000000000000001     13 0000000000000000  x14 000000769b035900  x15 00000000fffffe24    019-10-02 16:13:21.139 2604-2604/? A/DEBUG:     x16 000000769a36d080     17 0000000000000002  x18 0000000000000010  x19 000000769becb080    019-10-02 16:13:21.139 2604-2604/? A/DEBUG:     x20 000000769f340180     21 000000769b111480  x22 0000000000000001  x23 000000000000000b    019-10-02 16:13:21.139 716-736/? E/Netd: getNetworkForDns: getNetId    rom enterpriseCtrl is netid 0 2019-10-02 16:13:21.139 2604-2604/?    /DEBUG:     x24 0000000000000001  x25 0000000000000001  x26    000000000000000  x27 0000000000000000 2019-10-02 16:13:21.139    604-2604/? A/DEBUG:     x28 000000769b035900  x29 000000769c5f8060    019-10-02 16:13:21.139 2604-2604/? A/DEBUG:     sp  000000769c5f7f60     r  00000076a2af23f0  pc  00000076a2af2114 2019-10-02 16:13:21.152    604-2604/? A/DEBUG: backtrace: 2019-10-02 16:13:21.152 2604-2604/?    /DEBUG:     #00 pc 000000000024c114     vendor/lib64/egl/libGLESv2_adreno.so    !!!0000!dfb810a28748fbd0016a54d68a3dd2!2eb03ad!+1636) 2019-10-02    6:13:21.152 2604-2604/? A/DEBUG:     #01 pc 00000000001884c0     /vendor/lib64/egl/libGLESv2_adreno.so    (!!!0000!15b3af84d7aa3d905632f0b31859d6!2eb03ad!+1128) 2019-10-02    16:13:21.152 2604-2604/? A/DEBUG:     #02 pc 00000000002f63a4     /vendor/lib64/egl/libGLESv2_adreno.so    (!!!0000!f56be09eb88f86833124f1df42e945!2eb03ad!+17068) 2019-10-02    16:13:21.152 2604-2604/? A/DEBUG:     #03 pc 0000000000195c80     /vendor/lib64/egl/libGLESv2_adreno.so    (!!!0000!6b200851123c7898055fe62ff9f71f!2eb03ad!+576) 2019-10-02    16:13:21.152 2604-2604/? A/DEBUG:     #04 pc 00000000001ea830     /vendor/lib64/egl/libGLESv2_adreno.so    (!!!0000!28254c066fd778faffa7894b1bd8b1!2eb03ad!+192) 2019-10-02    16:13:21.152 2604-2604/? A/DEBUG:     #05 pc 000000000224a9e8     /data/app/com.android.chrome-w5PSFWHisBndmMsNT47NcA==/base.apk (offset    0xc19000) 2019-10-02 16:13:21.399 1091-1091/?    E//system/bin/tombstoned: Tombstone written to:    /data/tombstones/tombstone_08 2019-10-02 16:13:21.404 703-703/?    E/audit: type=1701 audit(1570029201.389:6979): auid=4294967295    uid=10299 gid=10299 ses=4294967295    subj=u:r:untrusted_app:s0:c43,c257,c512,c768 pid=2045    comm="Chrome_InProcGp" exe="/system/bin/app_process64" sig=11 res=1    2019-10-02 16:13:21.420 1403-3293/? E/InputDispatcher: channel    'b90761c com.*****/com.*****.MainActivity    (server)' ~ Channel is unrecoverably broken and will be disposed!    2019-10-02 16:13:21.420 1403-3293/? E/InputDispatcher: channel    'e5a5a84 com.*****/com.*****.MainActivity    (server)' ~ Channel is unrecoverably broken and will be disposed!    2019-10-02 16:13:21.433 1403-1434/? E/WindowManager: RemoteException    occurs on reporting focusChanged, w=Window{e5a5a84 u0    com.*****/com.*****.MainActivity EXITING}        android.os.DeadObjectException            at android.os.BinderProxy.transactNative(Native Method)            at android.os.BinderProxy.transact(Binder.java:1145)            at android.view.IWindow$Stub$Proxy.windowFocusChanged(IWindow.java:500)            at com.android.server.wm.WindowState.reportFocusChangedSerialized(WindowState.java:3986)            at com.android.server.wm.WindowManagerService$H.handleMessage(WindowManagerService.java:5535)            at android.os.Handler.dispatchMessage(Handler.java:106)            at android.os.Looper.loop(Looper.java:216)            at android.os.HandlerThread.run(HandlerThread.java:65)            at com.android.server.ServiceThread.run(ServiceThread.java:44) 2019-10-02 16:13:21.449 861-861/? E/lmkd: Error opening    /proc/2541/oom_score_adj; errno=2 2019-10-02 16:13:21.449 861-861/?    E/lmkd: Error opening /proc/2045/oom_score_adj; errno=2 2019-10-02    16:13:21.458 1403-1425/? E/libprocessgroup: Error encountered killing    process cgroup uid 99255 pid 2541: No such file or directory    2019-10-02 16:13:21.467 1403-1426/? E/KernelCpuUidUserSysTimeReader:    Negative user/sys time delta for UID=10120        Prev times: u=215346000 s=56770000 Curr times: u=208410000 s=53002000 2019-10-02 16:13:21.569 1403-1413/? E/WindowManager:    win=Window{b90761c u0    com.*****/com.*****.MainActivity EXITING}    destroySurfaces: appStopped=false win.mWindowRemovalAllowed=true    win.mRemoveOnExit=true win.mViewVisibility=0    caller=com.android.server.wm.AppWindowToken.destroySurfaces:896    com.android.server.wm.AppWindowToken.destroySurfaces:877    com.android.server.wm.WindowState.onExitAnimationDone:5496    com.android.server.wm.-$$Lambda$01bPtngJg5AqEoOWfW3rWfV7MH4.accept:2    java.util.ArrayList.forEach:1262    com.android.server.wm.AppWindowToken.onAnimationFinished:2479    com.android.server.wm.AppWindowToken.setVisibility:560  2019-10-02    16:13:21.573 1403-1413/? E/WindowManager: win=Window{e5a5a84 u0    com.*****/com.*****.MainActivity EXITING}    destroySurfaces: appStopped=false win.mWindowRemovalAllowed=true    win.mRemoveOnExit=true win.mViewVisibility=0    caller=com.android.server.wm.AppWindowToken.destroySurfaces:896    com.android.server.wm.AppWindowToken.destroySurfaces:877    com.android.server.wm.WindowState.onExitAnimationDone:5496    com.android.server.wm.-$$Lambda$01bPtngJg5AqEoOWfW3rWfV7MH4.accept:2    java.util.ArrayList.forEach:1262    com.android.server.wm.AppWindowToken.onAnimationFinished:2479    com.android.server.wm.AppWindowToken.setVisibility:560","open","836","undefined","[object Object]","null"
"Get rid of project.properties files","The properties should be read from Gradle files such as `gradle.properties`, `settings.gradle`, or defaults in the root `build.gradle` file.P.S. This means that default compile SDK version should be read from root `build.gradle` (copied from `bin/templates/project/build.gradle`) instead of `project.properties` file.","open","660","undefined","","null"
"Does not seem to enforce the default build tools version","Related to issue #658: in case the user does not explicitly configure `cdvBuildToolsVersion`, no default build tools version such as `defaultBuildToolsVersion` (`"28.0.3"`) is enforced in the following lines: <https://github.com/apache/cordova-android/blob/a6f30b6977156df4bb2e3a488178ac05a96f0671/bin/templates/project/app/build.gradle#L110-L113>","open","659","undefined","","null"
"Gradle default values ignored","From the default values in <https://github.com/apache/cordova-android/blob/a6f30b6977156df4bb2e3a488178ac05a96f0671/bin/templates/project/build.gradle#L43-L46>the following default values seem to be ignored:- `defaultBuildToolsVersion`- `defaultTargetSdkVersion`- `defaultCompileSdkVersion`The default values were introduced in f790aeb8f677eb047ce6e82fceaeb814cfc9d4fc (part of PR #389), where `defaultTargetSdkVersion` was introduced but never used.The code that uses `defaultBuildToolsVersion` and `defaultCompileSdkVersion` was commented out in c74192d578e647a8386ac8663d6c99521f28b110 (also part of PR #389).I discovered this issue through investigation of code related to issue #657 & PR #655.","open","658","undefined","","null"
"Build with --gradleArg=-PcdvCompileSdkVersion=?? not working","For example:    cordova build android -- --gradleArg=-PcdvCompileSdkVersion=27produces an error like this:```FAILURE: Build failed with an exception.* What went wrong:A problem occurred configuring project ':app'.> Failed to find target with hash string '27' in: /Users/brodybits/Library/Android/sdk```same issue on cordova-android@latest (7.1.4), 7.0.0, and nightly (cordova-android@8.0.0-nightly.2019.2.10.a6f30b69)ref: <https://cordova.apache.org/docs/en/latest/guide/platforms/android/index.html#setting-gradle-properties>P.S. I discovered this issue during rework in response to review comments on PR #655.P.P.S. This was observed in bash terminal on mac OS (10.13.6).P.P.P.S. This is an issue with using `--gradleArg=-PcdvCompileSdkVersion=??`, **not** an issue with using `--gradleArg=-PcdvMinSdkVersion=??`.I think this difference is due to the fact that `bin/templates/project/app/build.gradle` does the corrective casting for `cdvMinSdkVersion` but **not** for `cdvCompileSdkVersion`. (The corrective casting for `cdvMinSdkVersion` was already done in PR #551.)","open","657","undefined","","null"
"After updating android studio: Cordova app module isn't auto recognized anymore","After updating android studio to:```Android Studio 3.3.1Build #AI-182.5107.16.33.5264788, built on January 29, 2019JRE: 1.8.0_152-release-1248-b01 x86_64JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.omacOS 10.14.2```I get the following error when building my cordova app for android:![screenshot 2019-02-08 at 08 46 55](https://user-images.githubusercontent.com/7549295/52465251-382f2c00-2b7e-11e9-8fba-c9541b731cf0.png)I need to manually click `File -> Sync Project with Gradle Files` for the module to be recognized. This was not the case with my last version of Android studio (v3.2.1)","open","653","undefined","[object Object]","null"
"prepare.js considers ic_launcher_background.xml,ic_launcher_foreground.xml in mipmap but android studio puts it in drawable","https://github.com/apache/cordova-android/blob/master/bin/templates/cordova/lib/prepare.jsconsiders ic_launcher_background.xml and ic_launcher_foreground.xml in mipmapbut android studio images assets studio puts them in:drawable-v24\ic_launcher_background.xmldrawable\ic_launcher_foreground.xml","open","652","undefined","","null"
"Is there a way to change the version of Gradle Plugin?","Would you please tell me if there is a way to change without fiddling the code directly...```buildscript {    ・・・    dependencies {        // I want to rewrite this value        classpath 'com.android.tools.build:gradle:3.2.0'    }}```https://github.com/apache/cordova-android/blob/master/framework/build.gradle#L34","open","650","undefined","","null"
"Is Cordova Android 64-bit?","Google is [warning developers](https://android-developers.googleblog.com/2019/01/get-your-apps-ready-for-64-bit.html) that starting Aug 1 2019, all apps must be 64-bit.Does Cordova already support this? If so, in what version?","open","647","undefined","[object Object],[object Object]","null"
"CordovaActivity goes in pause","when I start NewActivity (using this.cordova.startActivityForResult) from CordovaPlugin,after X minutes, usually 10/15 mins, CordovaActivity goes in pause,if I send CordovaCallback from CordovaPlugin (using this.cordova.getThreadPool().execute(() -> cordovaCB.sendPluginResult(pluginResult))) nothing happens untill I close my NewActivity and return on CordovaActivity.my cordova version read in CordovaWebView is this: CORDOVA_VERSION = "7.0.0";","open","646","undefined","","null"
"input=file camera photo","Hi guys, I don't is this is the right place or is related to "cordova-plugin-inappbrowser" ( https://github.com/apache/cordova-plugin-inappbrowser/issues/328#issuecomment-456472870 ).I have a website that uses:```<input type="file" accept="image/*" capture="camera" />```Compiling the cordova app to android/ios the code works when using direct from the html hosted at the cordova app, but when i open an popup (using inappbrowser) the same input doesn't open the camera on android, ios works fine.","open","643","undefined","","null"
"More information in requirements error message","Followup to PR #624:- For some reason we determined in issue #623 & PR #624 that logging the value of JAVA_HOME was misleading. Part of the explanation may be that check_reqs.js overwrites the setting which I think is not the best solution. I would favor that we look for a better solution, then log the actual JAVA_HOME setting in case there was an issue with Java.- Looking at the changes in PR #624, I think it would be ideal if the code would make it clear if there is an issue with both Java and Android SDK.","open","641","undefined","","null"
"Release notes for 7.1.x are missing","7.1.1, 7.1.2, 7.1.3 and 7.1.4 were released, but the release notes in master were not updated.The release note exist in the release branch: https://github.com/apache/cordova-android/blob/7.1.x/RELEASENOTES.md","open","639","undefined","","null"
"MOBILE TOP 10: M5-INSUFFICIENT CRYPTOGRAPHYMOBILE","We have created a mobile app from ionic Cordova framwork and did a scan from WhiteHat Scan. It gives us following issue:> Applications which use the Java Cryptography Architecture (JCA) for key generation, signing, or random number generation may not receive cryptographically strong values on Android devices due to improper initialization of the PRNG (pseudo-random number generator). Applications that directly invoke the system-provided OpenSSL PRNG without explicit initialization on Android are also affected. > > The application was found to be vulnerable because of issues related to the SecureRandom implementation. A static value is used each time the SecureRandom variable is created, which means that the results are not randomized on each individual instance. The code locations provided in the table below were identified as being the cause for the current risk status. It is encouraged to review these locations to determine if the violation occurred in an internal or external library. If the issue was found in an external library, it is not possible to determine if the affected portion of code is being triggered from the application's Java source code. In this case, it may not be possible to locate and resolve this issue.**And Details for the issue are as:**> Signature: ()I> Class:  Lorg/apache/cordova/CordovaBridge;> Method: generateBridgeSecret> >  > RECOMMENDATION> To avoid being vulnerable to Secure Random, ensure that you properly initialize the underlying pseudo-random number generator.> > Developers who use JCA for key generation, signing or random number generation should explicitly initialize the PRNG with entropy from /dev/urandom or /dev/random. Also, developers should evaluate whether to regenerate cryptographic keys or other random values previously generated using JCA APIs such as SecureRandom, KeyGenerator, KeyPairGenerator, KeyAgreement, and Signature.> A suggested implementation is provided [here](https://android-developers.googleblog.com/2013/08/some-securerandom-thoughts.html)","open","638","undefined","[object Object],[object Object],[object Object]","null"
"Java JDK version to use given Oracle licensing changes","Hi 👋 ,I have a question regarding the version of the Java JDK we should be using in light of Oracle's recent Java licensing changes.The [official Cordova documentation for installing the JDK](https://cordova.apache.org/docs/en/latest/guide/platforms/android/index.html#java-development-kit-jdk) links to [this](https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) downloads page on Oracle's site for Java JDK 8.Somewhat recently Oracle announced that [JDK 8 will not get new security updates](https://java.com/en/download/release_notice.jsp) after January 2019 if it's used for business/commercial purposes. [This post](https://medium.com/@javachampions/java-is-still-free-c02aef8c9e04) tries to break down what the implications are. [Other businesses are making adjustments](https://www.esri.com/arcgis-blog/products/arcgis-enterprise/announcements/how-java-licensing-changes-will-affect-arcgis/) to their applications because of the licensing changes.Searching online it looks like Android Studio, for a while now, has shipped with _OpenJDK_...Will the recommendation for Cordova Android change to an OpenJDK version of the JDK? Regardless of whether or not that recommendation changes, are OpenJDK versions supported in Cordova Android for those who do not wish to pay expensive licensing fees to Oracle in order to comply legally as well as to receive security updates with regard to the Cordova Android development they do for their business?Thank you so much for your time! :smiley:","open","637","undefined","[object Object],[object Object]","null"
"Missing cordova_plugins.js after platform add/prepare","When adding android platform 7.0.0/7.1.4 on an existing project I can build/install the app, but it is non-functional because `cordova_plugins.js` is missing. All is fine using android platform 6.3.0/6.4.0.I did some debugging and what I can see when I do `cordova platform add android@7.1.4`:1. `PluginManager#` writes `www` and not `platform_www` because `options.usePlatformWww` is not truthy? On platform 6.3.0/6.4.0 it does.2. During merging the `cordova_plugins.js` version in `www` is deleted, because it does not exist in `platform_www`.```Merging and updating files from [www, platforms/android/platform_www] to platforms/android/app/src/main/assets/www...  delete platforms/android/app/src/main/assets/www/cordova_plugins.js (no source) ```When I subsequently add a plugin using `cordova plugin add` the  `cordova_plugins.js` is being created in both `www` and `platform_www` and everything is fine again.From CB-11022 I got that the `usePlatformWww` was added as an optimization, but Iḿ not clear how this should work here (or why it breaks).version disclosures:node@v6.9.5npm@3.10.10cordova@8.1.2 (cordova-lib@8.1.1)**edit1:**Adding a plugin using `cordova plugin add` does not solve it. The resulting apk does now contain a full `cordova_plugins.js `, but the plugin resources themselves actually have not been added. So now I get these messages:```019-01-23 15:25:23.767 6710-6788/com.equestic E/AndroidProtocolHandler: Unable to open asset URL: file:///android_asset/www/plugins/cordova-plugin-appminimize/www/AppMinimize.js2019-01-23 15:25:23.773 6710-6788/com.equestic E/AndroidProtocolHandler: Unable to open asset URL: file:///android_asset/www/plugins/cordova-plugin-background-mode/www/background-mode.js```**edit2**The plugin resources are missing for the same reason. They are being deleted during the merge.```  rmdir  platforms/android/app/src/main/assets/www/plugins/cordova-plugin-camera (no source)  rmdir  platforms/android/app/src/main/assets/www/plugins/cordova-plugin-camera/www (no source)  delete platforms/android/app/src/main/assets/www/plugins/cordova-plugin-camera/www/Camera.js (no source)  delete platforms/android/app/src/main/assets/www/plugins/cordova-plugin-camera/www/CameraConstants.js (no source)  delete platforms/android/app/src/main/assets/www/plugins/cordova-plugin-camera/www/CameraPopoverHandle.js (no source)  delete platforms/android/app/src/main/assets/www/plugins/cordova-plugin-camera/www/CameraPopoverOptions.js (no source)```","open","636","undefined","[object Object],[object Object]","null"
"Compile SDK / Target SDK version not consistent with defaults in root build.gradle","If I would do `cordova platform add android@nightly` in a new Cordova project and then do `cordova build android`, the APK has target SDK version 27 while SDK 28 is specified as default in: <https://github.com/apache/cordova-android/blob/f1f1ac3cbd7e75aa1dfeb6faf856a90335d2197c/bin/templates/project/build.gradle#L45-L46>I used the following command to check the SDK versions in the APK:```shaapt list -a platforms/android/app/build/outputs/apk/debug/app-debug.apk | grep SdkVersion```This issue *may* be related to #508 - Inconsistent handling of min/target SDK valuesI hope we can resolve this one before the next major release for Cordova 9 (apache/cordova#10).P.S. I expanded the scope of this issue to cover the compile SDK version. This issue needs to be resolved before we can continue with AndroidX support (#565).","open","631","undefined","[object Object]","null"
"It is a question about the version of gradle used","It is the question```cordova buildcordova run```When building with this command, where is the gradle used?When building a project with android studio, I think that you use gradlle that android studio has.Does it happen that the version of gradle used before and after opening a project in android studio changes?","open","627","undefined","[object Object],[object Object]","null"
"window.openDatabase Error.. ","I am creating and using DB at Cordova javascript.This issue occurs with Android 9.0The first time you run window.openDatabase, there is no problem.If you insert a value and restart the app, the problem occurs.[INFO:CONSOLE(591)] "unable to open database, failed to start transaction (14 enable to open database file)"[INFO:CONNSOLE(591)] "Uncaught InvalidState Error: Failed to execute 'openDatabase' on Window: enable to open database, failed to start transaction (14)"[INFO:CONNSOLE(643)] "Uncaught TypeError: Cannot read property 'transaction' of excluded"The above error message occurs and the app is unavailable.Please give me some advice on how I can solve it.","open","622","undefined","","null"
"<input type="file" multiple> not working","Hi, I just noticed that on android is impossibile to get multiple files trought file choser.Code used: `<input type="file" name="attachment[]" multiple="multiple"/>`Tested on iOS and works as should. Work on Google Chrome too.Searched on the web for any solution... but found only this:https://stackoverflow.com/questions/5907369/file-upload-in-webviewMaybe you know how to deal with it? I tried other filechoisers but none of them supports misc files.It would be great to be able to select files just like on the other platforms.Thanks you very much!","open","621","undefined","","null"
"There are no `android.home` system property on Linux","Hello,you guys use in `/platforms/CordovaLib/cordova.gradle` This codeline `String systemProperty = System.getProperty("android.home")`There is no such property. :) So you get nothing in `systemProperty`See for Documentation: https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.htmlThis is related to not found Android Build Tools```bash* What went wrong:A problem occurred evaluating project ':CordovaLib'.> No installed build tools found. Install the Android build tools version 19.1.0 or higher.```What do you intended to do with `android.home` ?","open","614","undefined","","null"
"[InAppBrowser]Fatal Exception occured due to "not attached to window" on AndroidP","Steps to reproduce:1. Open InAppBrowser on cordova app.2. Move to Settings.3. Setting > Display > Display size. Then change display size.4. Resume cordova app.Then, App is crashed by fatal exception.```Process: com.myapp, PID: 18768java.lang.IllegalArgumentException: View=DecorView@fb121f3[MainActivity] not attached to window manager    at android.view.WindowManagerGlobal.findViewLocked(WindowManagerGlobal.java:497)    at android.view.WindowManagerGlobal.removeView(WindowManagerGlobal.java:406)    at android.view.WindowManagerImpl.removeViewImmediate(WindowManagerImpl.java:138)    at android.app.Dialog.dismissDialog(Dialog.java:375)    at android.app.Dialog.dismiss(Dialog.java:358)    at org.apache.cordova.inappbrowser.InAppBrowser$5$1.onPageFinished(Unknown Source:18)    at xf.c(SourceFile:251)    at afs.handleMessage(SourceFile:72)    at android.os.Handler.dispatchMessage(Handler.java:106)    at android.os.Looper.loop(Looper.java:193)    at android.app.ActivityThread.main(ActivityThread.java:6813)    at java.lang.reflect.Method.invoke(Native Method)    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:522)    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:889)```I think MainActivity have been destroyed and dialog is detacched when Display size is changed.But InAppBrowser still have old dialog and try to dismiss() when app is resumed.my-app\plugins\cordova-plugin-inappbrowser\src\android\InAppBrowser.java```    public void closeDialog() {        this.cordova.getActivity().runOnUiThread(new Runnable() {            @Override            public void run() {                final WebView childView = inAppWebView;                // The JS protects against multiple calls, so this should happen only when                // closeDialog() is called by other native code.                if (childView == null) {                    return;                }                childView.setWebViewClient(new WebViewClient() {                    // NB: wait for about:blank before dismissing                    public void onPageFinished(WebView view, String url) {                        if (dialog != null) {                            dialog.dismiss();       //!!!dialog is not attached to window                            dialog = null;                        }                    }                });```This issue is not reproduced on Android O.(onPageFinished is not called on Android O, So dialog.dismiss() is not called.)","open","609","undefined","[object Object]","null"
"Deviceready has not fired after 5 seconds - Android 7.1.4","Hello,I would like to know if there is a problem with this 7.1.4 android version as I keep having this issue in my chrome://inspect console:```deviceready has not fired after 5 seconds. cordova.js:1219Channel not fired: onPluginsReady cordova.js:1212Channel not fired: onCordovaReady ```I have disabled all the plugins, same problem.I am using vue.js with Cordova:```import 'babel-polyfill';import Vue from "vue";import App from "./App.vue";import Vuetify from "vuetify";import router from "./router";import { store } from "./store";import "./registerServiceWorker";import "vuetify/dist/vuetify.min.css";import "material-design-icons-iconfont/dist/material-design-icons.css";Vue.use(Vuetify);Vue.config.productionTip = false;if (navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/)) {document.addEventListener("deviceready", onDeviceReady, false);} else {onDeviceReady(); //this is the browser}function onDeviceReady() {new Vue({router,store,render: h => h(App)}).$mount("#app");}```I have also tried directly without condition`document.addEventListener("deviceready", onDeviceReady, false);`Same issue.Any idea why can cause this please?Thank you.","open","604","undefined","[object Object],[object Object]","null"
"Reload app with backup url if first fails","I want to be able to catch when the page fails to load in Cordova, fails to load in "CordovaWebViewImpl.loadUrl(String url)" function. I've noticed if I implemented the `WebViewClient.onReceivedHttpError(WebView view, WebResourceRequest request, WebResourceResponse errorResponse)`to notify all plugins that the error has happened then I'm able to fetch the error. But that requires me to change the base cordova code. Is there a way to do this and not change the base cordova code and extend some class a simple way.What I want to do is that if the page that is trying to be loaded returns a 500 error then I want to try to load another url that is fetched from the configuration. Is this possible with current cordova impl?","open","601","undefined","[object Object],[object Object]","null"
"Server Sent Events not working in android by using domain name URL","I am using this URL from Ajax “https://username:password@home.myopenhab.org/rest/events?topics=smarthome/" to get SSE(Server Sent Events) in client side application from server using Cordova.Its working fine on IOS but its not working on android(I am using android 7.0, latest chrome version and also enabled the webview implementation in developer options).for same URL if I give IP like "http://192.168.0.1/rest/events?topics=smarthome/” its working fine on both IOS and android.Note:Both URL(“https://username:password@home.myopenhab.org/rest/events?topics=smarthome/" AND "http://192.168.0.1/rest/events?topics=smarthome/”), working fine with the "cordova-crosswalk-plugin" but i dont want to use crosswalk plugin beacuse asking for download some dependency application from google play.```var eventSource = new EventSource(" +“url”+ /rest/events?topics=smarthome/*");   eventSource.addEventListener(‘message’, function (eventPayload){//not entering here.}```I found the solution : Reason is your URL use httpsOpen “\cordova\platforms\android\CordovaLib\src\org\apache\cordova\ CordovaWebViewClient.java”. In 'onReceivedSslError' method, comment the else part and add handler.proceed() instead.But their is no file called CordovaWebViewClient.java in mentioned path. I found SystemWebViewClient.java in \cordova\platforms\android\CordovaLib\src\org\apache\cordova\engine path i have changed the handler.proceed() in else part but its not working, i am  using cordova 8.1.2.","open","600","undefined","[object Object]","null"
"cdvMinSdkVersion seems to not work in 7.1.4","I specified this `<preference name="android-minSdkVersion" value="23" />` into `config.xml`, but it seems not work in `7.1.4`.I think these PRs might cause this problem.- https://github.com/apache/cordova-android/pull/495/files- https://github.com/apache/cordova-android/pull/551/fileshttps://github.com/apache/cordova-android/blob/a68f9fd752a25bb680da96414a3b956357c2dfcb/bin/templates/project/app/build.gradle#L125I quickly fix this line to `ext.cdvMinSdkVersion = cdvMinSdkVersion == null ? null : Integer.parseInt('' + defaultMinSdkVersion)`.It seems to work well.I think actual `cdvMinSdkVersion` is set on this line.https://github.com/apache/cordova-android/blob/a68f9fd752a25bb680da96414a3b956357c2dfcb/bin/templates/project/app/build.gradle#L171","open","599","undefined","[object Object],[object Object],[object Object]","null"
"Add a warning about the using of `android.bat`","Hi,### Platforms affectedAndroid.Like it said:```**************************************************************************The "android" command is deprecated.For manual SDK, AVD, and project management, please use Android Studio.For command-line tools, use tools\bin\sdkmanager.batand tools\bin\avdmanager.bat**************************************************************************```### What does this PR do?The conditionnal structure has been removed to use systematically `sdkmanager` instead of `android.bat`.See [this issue](https://github.com/apache/cordova/issues/61) for more.### What testing has been done on this change?None. The method behaviour hasn't been significantly altered, actually.Feel free to add/remove what you want. :)### Checklist- [ ] [Reported an issue](http://cordova.apache.org/contribute/issues.html) in the JIRA database- [ ] Commit message follows the format: "CB-3232: (android) Fix bug with resolving file paths", where CB-xxxx is the JIRA ID & "android" is the platform affected.- [ ] Added automated test coverage as appropriate for this change.","open","595","undefined","","null"
"Deprecate BuildHelper & PermissionHelper to be removed someday in the future?","From <https://issues.apache.org/jira/browse/CB-12730> it looks like these classes were added to support cordova-plugin-compat, which is now a deprecated plugin.My impression is that the functionality in BuildHelper & PermissionHelper classes could have been implemented in the plugins instead.","open","594","undefined","","null"
"CordovaPlugin.hasPermisssion method name typo","https://github.com/apache/cordova-android/blob/8a4ae311ce165e31f0511ae43274aa52d3773fd2/framework/src/org/apache/cordova/CordovaPlugin.java#L407Clearly, the name `hasPermisssion` is misspelled, and should be `hasPermission` instead...","open","593","undefined","","null"
"CordovaPlugin method name onRequestPermissionResult inconsistent with Android onRequestPermissionsResult","The name used for the permission request callback in the Android class [ActivityCompat.OnRequestPermissionsResultCallback](https://developer.android.com/reference/androidx/core/app/ActivityCompat.OnRequestPermissionsResultCallback) is onRequestPermissionsResult, not onRequestPermissionResult.This is quite confusing, and should probably be fixed.","open","592","undefined","","null"
"Doesn't support add customised `buildType`?","I am trying to add a new buildType in my android application. I edited `build-extras.gradle` as below```android {    buildTypes {            staging {            initWith release        }    }}```After that the change is added to `platforms/android/build-extras.gradle` but the build will fail because  the module `platforms/android/CordovaLib/build.gradle` doesn't have such configuration. If I added the this configuration on `platforms/android/CordovaLib/build.gradle` manually, the command `cordova build android --release` will success but it doesn't generate the `staging` APK.","open","587","undefined","[object Object]","null"
"Android emulator app run error","Hi all! I am setup android emulator and its work. But, if I run command cordova -d emaulator androidi see error```Failed to execute shell command "getprop,dev.bootcomplete"" on device: Error: adb: Command failed with exit code 1 Error output:error: device unauthorized.This adb server's $ADB_VENDOR_KEYS is not setTry 'adb kill-server' if that seems wrong.Otherwise check for a confirmation dialog on your device.```the emulator started, but there is no application in itwhats problem?","open","727","undefined","","null"
"TypeError: nativeApiProvider.get(...).exec is not a function","# Bug ReportI am getting an error on app startup on some production installs, but cannot reproduce locally.This is new to cordova 9 / cordova-android 8.0.0 as it was working on cordova 8, cordova-android 7.1.4 version. Due to the nature of the error I would guess it is the cordova-android side that is causing it but I may be wrong.## Problem### What does actually happen?Here is error and stack trace that my auto reporting system picks up:```TypeError: nativeApiProvider.get(...).exec is not a function    - androidExec()@file:///android_asset/www/cordova.js:960:40    - Channel.<anonymous>()@file:///android_asset/www/cordova.js:1470:13    - Channel.fire()@file:///android_asset/www/cordova.js:840:23    - {anonymous}()@file:///android_asset/www/cordova.js:1296:28    - Channel.f()@file:///android_asset/www/cordova.js:687:25    - Channel.fire()@file:///android_asset/www/cordova.js:840:23    - {anonymous}()@file:///android_asset/www/cordova.js:1283:32    - onScriptLoadingComplete()@file:///android_asset/www/cordova.js:1665:5    - scriptLoadedCallback()@file:///android_asset/www/cordova.js:1682:13    - HTMLScriptElement.<anonymous>()@file:///android_asset/www/cordova.js:1636:17```## InformationSo far I have seen this happening on the following user agents on live devices:``` Mozilla/5.0 (Linux; Android 6.0.1; Venus_V3_5040_2GB Build/VASP54; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/67.0.3396.87 Mobile Safari/537.36 Mozilla/5.0 (Linux; Android 6.0; ZTE BLADE L7 Build/MRA58K; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/73.0.3683.90 Mobile Safari/537.36 Mozilla/5.0 (Linux; Android 7.0; SM-N920C Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/73.0.3683.90 Mobile Safari/537.36 Mozilla/5.0 (Linux; Android 7.1.1; SM-J510FN Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/64.0.3282.137 Mobile Safari/537.36 Mozilla/5.0 (Linux; Android 7.1.1; SM-J510FQ Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/73.0.3683.90 Mobile Safari/537.36```### Version informationAndroid studio 2.3.2## Checklist- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","726","undefined","","null"
"Keyboard focus not restored to last element on app resume","# Bug Report## ProblemWhen resuming a cordova app, the keyboard focus is moved instead of being restored to the last focused element.### What is expected to happen?When the cordova app is paused and there was a focused element in the webview content, one expect the focus to be restored to that element when the app is resumed.### What does actually happen?The focus is moved to the first element in the page that has a non-negative tabIndex, otherwise to the document body (ignoring the elements with negative tabIndex).## InformationThis behavior has been introduced with this commit: https://github.com/apache/cordova-android/commit/c2cafb4b45fcbb307a113828dfc9f723f8a6433b### Command or Code- Create a new cordova app and add android platform.- Add the following to `div.class` element in www/index.html:```<div id="focusable1" tabIndex="0">I am focusable</div><div id="focusable2" tabIndex="0">I am also focusable</div><input type="text">```- Add the following to www/css/index.css:```#focusable1:focus { background: yellow; }#focusable2:focus { background: red; }```- Add the following to `app.receivedEvents` method in www/js/index.js:```document.getElementById('focusable1').focus();```- Compile and install the app- On app launch, the first focusable element should have the focus, with yellow background- Using mouse or keyboard, focus the second element, with red background- Using adb, launch another app, e.g. `adb shell am start com.android.settings/.Settings`- Resume cordova app, e.g. quit settings using the BACK buttonFocus will be restored to the first element, with yellow background. If using `tabIndex="-1"` instead for the focusable elements, focus will be moved to the input element.### Version informationcordova-android@7.0.0## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [X] I searched for existing GitHub issues- [X] I updated all Cordova tooling to most recent version- [X] I included all the necessary information above","open","722","undefined","","null"
"Execution failed for task ':app:packageDebug'. > value (89854) > 0x0000ffff","Can someone please help:I'm using cordova-android@7.1.0 and sdk target version is 25.FAILURE: Build failed with an exception..../platforms/android/gradlew: Command failed with exit code 1 Error output:Note: Some input files use or override a deprecated API.Note: Recompile with -Xlint:deprecation for details.FAILURE: Build failed with an exception.* What went wrong:Execution failed for task ':app:packageDebug'.' > value (89854) > 0x0000ffff","open","720","undefined","","null"
"cordova's configured gradle version unsupported in Android Studio 3.4","# Bug ReportAndroid Studio 3.4 (just released) require a minimum Gradle version of 5.1.1, and so Gradle sync fails:```> Failed to apply plugin [id 'com.android.application']   > Minimum supported Gradle version is 5.1.1. Current version is 4.10.3. If using the gradle wrapper, try editing the distributionUrl in /Users/jacob/workspace/f-tc/src-cordova/platforms/android/gradle/wrapper/gradle-wrapper.properties to gradle-5.1.1-all.zip```## ProblemSee above### What is expected to happen?cordova android automatically configured for Gradle 5.1.### What does actually happen?uses Gradle 4.10## Information<!-- Include all relevant information that might help understand and reproduce the problem -->### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [ ] I searched for existing GitHub issues- [ ] I updated all Cordova tooling to most recent version- [ ] I included all the necessary information above","open","718","undefined","[object Object],[object Object]","null"
"Missing documentation for `<splash>` tag handling","### Issue Type- [ ] Bug Report- [ ] Feature Request- [ ] Support Question- [x] Doc## Description## InformationThe splash screen mechanism is not well documented since the plugin is not responsible of the resource copy into platforms. I had to check the `cordova prepare` code in order to figure out how `<splash>` tag is handled while I was trying to set an android vector (or svg) as splash screen which copy files pointed by `src` attribute in hard coded way to `screen.png`.So at least I think `<splash>` should be documented in `config.xml` documentation and maybe you should consider handling vector files or let the plugin decide for the file copy and file type.### Command or CodeThis method should not be present in cordova-android I think, but it is mandatory to change splash plugin in conjunction.https://github.com/apache/cordova-android/blob/485e6e0e4d4ae4521c590fbd999c2c575940d593/bin/templates/cordova/lib/prepare.js#L288-L322And more specifically :https://github.com/apache/cordova-android/blob/485e6e0e4d4ae4521c590fbd999c2c575940d593/bin/templates/cordova/lib/prepare.js#L297### Version informationCordova: Cordova CLI## Checklist- [x] I searched for already existing GitHub issues about this- [x] I updated all Cordova tooling to their most recent version- [x] I included all the necessary information above","open","717","undefined","","null"
"Not allowed to load local resource","### What is expected to happen?config.xml  like below```    <content src="http://ylh-test.mezeron.cn/yiren-remote/index.html" />    <access origin="cdvfile://*" />    <access origin="content:///*" />    <access origin="file://*" />    <access origin="*" />    <allow-navigation href="*" />    <allow-intent href="http://*/*" />    <allow-intent href="https://*/*" />    <allow-intent href="tel:*" />    <allow-intent href="sms:*" />    <allow-intent href="mailto:*" />    <allow-intent href="geo:*" />    <allow-intent href="cdvfile://*" />   ```when  load file like below```      <img src="file:///storage/emulated/0/Android/data/cn.mezeron.yiren.test/cache/1554273302432.jpg"/>```it's get error  :Not allowed to load local resource: file:///storage/emulated/0/Android/data/cn.mezeron.yiren.test/cache/1554273302432.jpg","open","712","undefined","","null"
"Support SDK versions with pre-release identifiers","### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? -->Fixes #708### Description<!-- Describe your changes in detail -->I changed the regular expression for versions of build tools in **cordova.gradle** file in order to accept all possible versions. And I removed the tag of release life cycle in version string when comparing them.> 29.0.0-rc1 => 29.0.0### TestingI built an example project with both Android SDK Build-Tools **28.0.0** and **29.0.0-rc1**.### Checklist- [x] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [x] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [x] I've updated the documentation if necessary","open","709","undefined","[object Object]","null"
"Crash navigating to chrome-error://webdata","# Bug Report## ProblemA Cordova Android app, built with PhoneGap, crashes when it is navigated to `chrome-error://webdata` either inside an iFrame or directly.### What is expected to happen?App should not crash.This is held up by the fact that Chrome on Windows throws an exception: `Not allowed to load local resource: chrome-error://webdata/`. Same exception is thrown when debugging an app made in Android Studio with WebView.  ### What does actually happen?App crashes when navigating to url chrome-error://webdata either inside an iFrame or directly.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->Apparently it only crashes on Android 8 or newer.### Steps to reproduce1. Download [the .apk file](https://github.com/zznidar/bugreports/raw/master/Cordova/Crash%20on%20visiting%20chrome-error%20webdata/apk/iFramecrasher-debug.3519194.1.apk) and install it.2. Open the app.3. Press one of the "*Will this crash it?*" links.### Command or Code<!-- What command or code is needed to reproduce the problem? -->The sample .apk – you can also build it manually, here are [Source files](https://github.com/zznidar/bugreports/tree/master/Cordova/Crash%20on%20visiting%20chrome-error%20webdata/www)### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->- Pocophone f1, Android 8.1.0- Samsung Galaxy S8+, Android 9The tested devices running Android 7 or lower did not crash.- Phonegap `cli-6.5.0`, `cli-8.1.1`### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->- Phonegap `cli-6.5.0` (Android ver 6.1.2), `cli-8.1.1` (Android ver 7.1.2)- Android 8.1.0, Android 9- No plugins needed[Full list of tested devices](https://github.com/zznidar/bugreports/tree/master/Cordova/Crash%20on%20visiting%20chrome-error%20webdata#tested-devices-affected-written-in-bold)## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version *(The highest supported by PhoneGap)*- [x] I included all the necessary information above","open","703","undefined","","null"
"cordova.gradle does not compare versions properly.","# Bug Report## ProblemSome of Android SDK Build-Tools versions have a tag of the release life cycle like "29.0.0-rc1". But cordova.gradle cannot compare these versions. This might be a problem for beginner developers because Android Studio can recommend the SDK version which is the release candidate.### What is expected to happen?Cordova-Android should compare all SDK Build-Tools versions without any problem.### What does actually happen?It throws RuntimeException when there is only one installed SDK Build-Tools whose version has a tag of the release life cycle.## Information### Version informationcordova-android: 8.0.0<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","708","undefined","[object Object],[object Object]","null"
"Android - Added validation of mime types for fileChooserParams. Fixes #695.","### Platforms affectedAndroid### Motivation and ContextThis PR solved the issue raised [here](https://github.com/apache/cordova-android/issues/695). [ng-file-upload](https://github.com/danialfarid/ng-file-upload/issues/2111) without this change does not work with Cordova. This issue on their repository had been raised a while back and many users had this unsolved issue: https://github.com/danialfarid/ng-file-upload/issues/480### DescriptionAdded mime types validator/generator in case the mime types passed in through fileChooserParams are not valid. Defaults to "*/*" if not valid mime type is found.In a nutshell:```        Intent intent = fileChooserParams.createIntent();        List<String> validMimeTypes = extractValidMimeTypes(fileChooserParams.getAcceptTypes());        if (validMimeTypes.isEmpty()) {            intent.setType(DEFAULT_MIME_TYPE);        } else {            intent.setType(String.join(" ", validMimeTypes));        }```### TestingTested on Android simulator and physical device. The file picker is now correctly opened using ng-file-upload.Utility method tested with various inputs.Eg. - new String[]{null, ".zip", "application/zip", ".pdf", "image/tiff", "text/plain", "boh/bah"} => `application/zip application/pdf image/tiff`- new String[]{".jpg,.png,.tiff,.jpeg,.tif,.pdf"}; => `system_process I/ActivityManager: START u0 {act=android.intent.action.GET_CONTENT cat=[android.intent.category.OPENABLE] typ=image/jpeg image/png image/tiff application/pdf cmp=com.android.documentsui/.picker.PickActivity} from uid 10105`- new String[]{} => used default value### Checklist- [X] I've run the tests to see all new and existing tests pass- [X] I added automated test coverage as appropriate for this change- [V] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [V] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [X] I've updated the documentation if necessary","open","707","undefined","","null"
"Project cannot name cannot start with a number","Hello everyone,I already commented here: https://github.com/apache/cordova-android/issues/584, however I was instructed to open a new issue to ask for support - so here we are.I've adopted this project from someone else, so my knowledge of Cordova isn't all that great, although I have spent considerable amounts of time in the documentation to understand what I am supporting. Anyway, as described in my other comment, here is my issue:> I am really struggling with this currently. I need to build some apps whose names begin with a number - however when I run the Cordova build command it seems to try and name my project after whatever is in the name field in my config.xml. If I change this to not be a string beginning with a number, it also renames the app this as well which I need to figure out how to avoid.> > I should mention I am using this in a pipeline so manual intervention isn't necessarily ideal. Is there anything I can change in config.xml or anywhere else that will allow me to specify a project name that doesn't begin with a number, but an app name that does? I tried using "<name short=..." to set the name as one beginning with a number - am I on the right track? Am I missing something?> > Please help me!Thanks in advance!","open","701","undefined","","null"
"Cordova build android error ocurred 7.1.4","# Bug Report## ProblemWhen you run 'cordova build android' the console output build succesful but the process finish with error code 1, so the build is finish correctly but the error code returns that build fail.### What is expected to happen?cordova build process will not return any error code when build is succesful### What does actually happen?cordova build returns an error code even the build is succesful## InformationRunning 'cordova build android --verbose' with cordova-android 7.1.4. The output is the following.![error-verbose](https://user-images.githubusercontent.com/22059052/55074393-7762ff00-5090-11e9-8e45-5be8387e92d0.PNG)### Command or Codecordova-android version 7.1.4 run 'cordova build android'### Environment, Platform, DeviceUsing windows and build to android device.### Version informationIonic:   ionic (Ionic CLI)  : 4.5.0 (C:\Users\asaenz\AppData\Roaming\npm\node_modules\ionic)   Ionic Framework    : ionic-angular 3.9.2   @ionic/app-scripts : 3.1.9Cordova:   cordova (Cordova CLI) : not installed   Cordova Platforms     : android 7.1.4   Cordova Plugins       : not availableSystem:   NodeJS : v8.10.0 (C:\Program Files\nodejs\node.exe)   npm    : 6.1.0   OS     : Windows 10## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [X] I searched for existing GitHub issues- [ ] I updated all Cordova tooling to most recent version- [X] I included all the necessary information above","open","700","undefined","","null"
"'cordova run android --emulator' command line tool stuck at 'Waiting for emulator to start...'","**OS:** Windows 10**Cordova:** 9.0.0**ADB:** Android Debug Bridge version 1.0.40, Version 28.0.2-5303910**Emulator API version:** Oreo | 27 | x86 | Android 8.1 (Google APIs)I've installed cordova and am using it to develop an android app. I have all the SDK tools installed. I'm running into an issue where I cannot start the emulator form the command line. I see there are a lot of posts about this already, but none really answer the problem or include verbose command line output.Here is the command line output from the command `cordova run android --emulator --verbose`. I call this command from the /platforms/android/ directory in my project.```Waiting for emulator to start...Running adb shell command "getprop dev.bootcomplete" on target emulator-5584...Running command: adb -s emulator-5584 shell getprop dev.bootcompleteCommand finished with error code 1: adb -s,emulator-5584,shell,getprop,dev.bootcompleteRunning adb shell command "getprop dev.bootcomplete" on target emulator-5584...Running command: adb -s emulator-5584 shell getprop dev.bootcompleteCommand finished with error code 1: adb -s,emulator-5584,shell,getprop,dev.bootcompleteRunning adb shell command "getprop dev.bootcomplete" on target emulator-5584...Running command: adb -s emulator-5584 shell getprop dev.bootcompleteCommand finished with error code 1: adb -s,emulator-5584,shell,getprop,dev.bootcomplete```And then it just keeps looping.. So it seems it be an issue with cordova running the adb command. I'm not 100% sure what the steps would be to fix this.*Current Workaround*I have a workaround that just requires me to run the emulator from the Android Studio AVD Manager and then run ```cordova emulate android ```which runs the app on the emulator. I'd like to get the command line tool working because it will speed up my productivity.Any help would be greatly appreciated!","open","698","undefined","[object Object]","null"
"Snyk report: High severity vulnerability found in shelljs -> Command Injection","# Bug Report## ProblemSnyk (https://www.npmjs.com/package/snyk) querying a database of known vulnerabilities revealed this critical security vulnerability:```✗ High severity vulnerability found in shelljs  Description: Command Injection  Info: https://snyk.io/vuln/npm:shelljs:20140723  Introduced through: cordova-android@8.0.0, cordova-ios@5.0.0, cordova-custom-config@5.0.3  From: cordova-android@8.0.0 > shelljs@0.5.3  From: cordova-ios@5.0.0 > shelljs@0.5.3  From: cordova-custom-config@5.0.3 > shelljs@0.7.8```### What is expected to happen?No security vulnerabilities should be found by Snyk### What does actually happen?High severity security vulnerability found by Snyk## Information**Steps to reproduce:**- Add latest version of cordova-ios to a package.json file- Install `npm snyk`- Run `snyk test`### Command or CodeSee above### Environment, Platform, DeviceAny### Version informationThis is the case both for`"cordova-android": "^7.0.0",`and`"cordova-android": "^8.0.0",`.## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [ x] I searched for existing GitHub issues- [ x] I updated all Cordova tooling to most recent version- [ x] I included all the necessary information above","open","696","undefined","","null"
"Missing Intent type and category prevent file upload - [solution included]","# Bug ReportFiles upload not working on Android when the Cordova App uses [ng-file-upload](https://github.com/danialfarid/ng-file-upload/issues/2111).( works on iOS 👇👇  )![image](https://user-images.githubusercontent.com/48427520/54739187-9c85d800-4b8d-11e9-8750-76cd378ec145.png)## ProblemUsing [ng-file-upload](https://github.com/danialfarid/ng-file-upload) it is not possible to upload images or document on Android when the App is built using Cordova.The 2 lines fix suggested below will resolve the Issue opened [here](https://github.com/danialfarid/ng-file-upload/issues/2111) on the ng-file-upload repository and the [related Stackoverflow](https://stackoverflow.com/questions/55261705/file-upload-not-working-for-android-in-cordova-project).This is the line after which the following 2 lines of code need to be added:https://github.com/apache/cordova-android/blob/2163c8ae0536bfde9029cfc981b945f4af93e09f/framework/src/org/apache/cordova/engine/SystemWebChromeClient.java#L253Bug fix - **2 lines of code**:```    @TargetApi(Build.VERSION_CODES.LOLLIPOP)    @Override    public boolean onShowFileChooser(WebView webView, final ValueCallback<Uri[]> filePathsCallback, final WebChromeClient.FileChooserParams fileChooserParams) {        Intent intent = fileChooserParams.createIntent();        // FIX HERE (same as the above handler) vvvvvvvvvvvvvv @@        intent.addCategory(Intent.CATEGORY_OPENABLE);         intent.setType("*/*");        // FIX HERE ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ @@```### What is expected to happen?The user should be prompted to choose which app to use to pick a file to upload### What does actually happen?On click no file picker is shown## InformationThese logs get generated when the upload button that should open the file picker is clicked:"No activity found to handle file chooser intent.: android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.GET_CONTENT cat= [android.intent.category.OPENABLE] typ=.jpg,.png,.tiff,.jpeg,.tif,.pdf }"### Command or CodeUnfortunately I cannot share the code.### Environment, Platform, DeviceAndroid app built with Cordova.Same result using the default WebView and the WebView provided by cordova-plugin-ionic-webview.### Version informationSame result on cordova-android 7 and 8.## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","695","undefined","","null"
"Error:[One of the following attributes are set but missing the other for the density type: ldpi, mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi. Please ensure that all require attributes are defined.]","I'm getting that error when I try to build my app eith an adaptive-icon in my config.xml, my code is the next one:`<platform name="android">    <resource-file src="res/icon/android/colors.xml" target="/app/src/main/res/values/colors.xml" />    <icon background="@color/background" density="ldpi" foreground="res/icon/android/ldpi-foreground.png" />    <icon background="@color/background" density="mdpi" foreground="res/icon/android/mdpi-foreground.png" />    <icon background="@color/background" density="hdpi" foreground="res/icon/android/hdpi-foreground.png" />    <icon background="@color/background" density="xhdpi" foreground="res/icon/android/xhdpi-foreground.png" />    <icon background="@color/background" density="xxhdpi" foreground="res/icon/android/xxhdpi-foreground.png" />    <icon background="@color/background" density="xxxhdpi" foreground="res/icon/android/xxxhdpi-foreground.png" /></platform>`I'm using cordova-android 8.0.0","open","694","undefined","","null"
"Source and destination must not be the same.","# Bug Report## ProblemSince `cordova-android` 8.0.0 we have build problems. In most of cases we got the error"An error occurred while running subprocess cordova." and the last line"Source and destination must not be the same".Sometimes, the build is ok. - We always check out the git repository of the app. (hard clean)### What is expected to happen?Build successfully.### What does actually happen?Build failed.## InformationThis error is not 100% reprocable. But about 80%.I just updated Cordova-Android. I expecting the node plugin fa-extra. Maybe Cordova-Android uses this with wrong attributes?### Command or Code`ionic cordova build android --release --prod --generateSourceMap false`But also `ionic cordova build` or `cordova build`.### Environment, Platform, Device / Version information```textIonic:   ionic (Ionic CLI)  : 4.10.1   Ionic Framework    : ionic-angular 3.9.2   @ionic/app-scripts : 3.1.11Cordova:   cordova (Cordova CLI) : 8.1.2 (cordova-lib@8.1.1)   Cordova Platforms     : Cordova-Android 8.0.0System:   Android SDK Tools : 26.1.1 (C:\Users\jenkins\AppData\Local\Android\sdk)   NodeJS            : v10.15.3 (C:\Program Files\nodejs\node.exe)   npm               : 6.4.1   OS                : Windows 10```## Log```textConsole log------------------------------------------------------------------------------------...[INFO] Discovered plugin "cordova-plugin-email-composer" in config.xml. Adding it to the project[INFO] Installing "cordova-plugin-email-composer" for android[INFO] Subproject Path: CordovaLib[INFO] Subproject Path: app[INFO] Adding cordova-plugin-email-composer to package.json[INFO] Saved plugin info for "cordova-plugin-email-composer" to config.xml[INFO] Source and destination must not be the same.[ERROR] [ERROR] An error occurred while running subprocess cordova.[ERROR][ERROR]         cordova platform add android --save exited with exit code 1.[ERROR][ERROR]         Re-running this command with the --verbose flag may provide more information.[ERROR] npm ERR! code ELIFECYCLE[ERROR] npm ERR! errno 1[ERROR] npm ERR! testapp@1.2.3 build:release: `ionic cordova build android --release --prod --generateSourceMap false`[ERROR] npm ERR! Exit status 1[ERROR] npm ERR![ERROR] npm ERR! Failed at the testapp@1.2.3 build:release script.[ERROR] npm ERR! This is probably not a problem with npm. There is likely additional logging output above.[ERROR][ERROR] npm ERR! A complete log of this run can be found in:[ERROR] npm ERR!     C:\Users\jenkins\AppData\Roaming\npm-cache\_logs\2019-03-18T08_17_34_817Z-debug.log[INFO] ------------------------------------------------------------------------[INFO] BUILD FAILURE[INFO] ------------------------------------------------------------------------[INFO] Total time:  39:57 min[INFO] Finished at: 2019-03-18T09:17:35+01:00[INFO] ------------------------------------------------------------------------Wait until Jenkins completes the data collection...[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.6:npm (npm build) on project my-project:  Failed to run task: 'npm run build:release' failed. org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1) -> [Help 1][ERROR][ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.[ERROR] Re-run Maven using the -X switch to enable full debug logging.[ERROR][ERROR] For more information about the errors and possible solutions, please read the following articles:[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException[JENKINS] Archiving C:\Jenkins\workspace\MYPROJECT\MYAPP\pom.xml to de.me.testapp.webclient/my-project/1.2.3/my-project-1.2.3.pomSet build name.New build name is '#317 1.2.3'channel stoppedPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8WARN: Unable to locate 'report-task.txt' in the workspace. Did the SonarScanner succedeed?Finished: FAILURE[END]NPM Scripts------------------------------------------------------------------------------------"npm run build:release": "ionic cordova build android --release --prod --generateSourceMap false"C:\Users\jenkins\AppData\Roaming\npm-cache\_logs\2019-03-18T08_17_34_817Z-debug.log------------------------------------------------------------------------------------0 info it worked if it ends with ok1 verbose cli [ 'C:\\Jenkins\\workspace\\MYPROJECT\\MYAPP\\target\\node\\node.exe',1 verbose cli   'C:\\Jenkins\\workspace\\MYPROJECT\\MYAPP\\target\\node\\node_modules\\npm\\bin\\npm-cli.js',1 verbose cli   'run',1 verbose cli   'build:release' ]2 info using npm@6.4.13 info using node@v10.15.34 verbose run-script [ 'prebuild:release', 'build:release', 'postbuild:release' ]5 info lifecycle testapp@1.2.3~prebuild:release: testapp@1.2.36 info lifecycle testapp@1.2.3~build:release: testapp@1.2.37 verbose lifecycle testapp@1.2.3~build:release: unsafe-perm in lifecycle true8 verbose lifecycle testapp@1.2.3~build:release: PATH:  C:\Jenkins\workspace\MYPROJECT\MYAPP\target\node\node_modules\npm\node_modules\npm-lifecycle\node-gyp-bin;  C:\Jenkins\workspace\MYPROJECT\MYAPP\node_modules\.bin;  C:\Jenkins\workspace\MYPROJECT\MYAPP\target\node;  C:\Program Files (x86)\dev_tools\apache-maven-3.6.0/bin;  C:\Program Files\Java\jdk1.8.0_192/bin;  C:\Program Files (x86)\Common Files\Oracle\Java\javapath;  C:\ProgramData\Oracle\Java\javapath;  C:\WINDOWS\system32;  C:\WINDOWS;  C:\WINDOWS\System32\Wbem;  C:\WINDOWS\System32\WindowsPowerShell\v1.0\;  C:\Program Files\dotnet\;  C:\TDM-GCC-64\bin;  C:\PhantomJs\bin;  C:\WINDOWS\System32\OpenSSH\;  C:\Program Files\Git\cmd;  C:\Program Files (x86)\WiX Toolset v3.11\bin\;  C:\Program Files (x86)\Microsoft Visual Studio\2017\BuildTools\MSBuild\15.0\Bin\;  C:\Program Files\nodejs\;  C:\Users\jenkins\AppData\Local\Microsoft\WindowsApps;  C:\Users\jenkins\AppData\Roaming\npm;  C:\Users\jenkins\AppData\Local\Programs\Microsoft VS Code\bin;  C:\Python27;9 verbose lifecycle testapp@1.2.3~build:release: CWD: C:\Jenkins\workspace\MYPROJECT\MYAPP10 silly lifecycle testapp@1.2.3~build:release: Args: [ '/d /s /c',10 silly lifecycle   'ionic cordova build android --release --prod --generateSourceMap false' ]11 silly lifecycle testapp@1.2.3~build:release: Returned: code: 1  signal: null12 info lifecycle testapp@1.2.3~build:release: Failed to exec build:release script13 verbose stack Error: testapp@1.2.3 build:release: `ionic cordova build android --release --prod --generateSourceMap false`13 verbose stack Exit status 113 verbose stack     at EventEmitter.<anonymous> (C:\Jenkins\workspace\MYPROJECT\MYAPP\target\node\node_modules\npm\node_modules\npm-lifecycle\index.js:301:16)13 verbose stack     at EventEmitter.emit (events.js:189:13)13 verbose stack     at ChildProcess.<anonymous> (C:\Jenkins\workspace\MYPROJECT\MYAPP\target\node\node_modules\npm\node_modules\npm-lifecycle\lib\spawn.js:55:14)13 verbose stack     at ChildProcess.emit (events.js:189:13)13 verbose stack     at maybeClose (internal/child_process.js:970:16)13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)14 verbose pkgid testapp@1.2.315 verbose cwd C:\Jenkins\workspace\MYPROJECT\MYAPP16 verbose Windows_NT 10.0.1713417 verbose argv  "C:\\Jenkins\\workspace\\MYPROJECT\\MYAPP\\target\\node\\node.exe"  "C:\\Jenkins\\workspace\\MYPROJECT\\MYAPP\\target\\node\\node_modules\\npm\\bin\\npm-cli.js"  "run"  "build:release"18 verbose node v10.15.319 verbose npm  v6.4.120 error code ELIFECYCLE21 error errno 122 error testapp@1.2.3 build:release: `ionic cordova build android --release --prod --generateSourceMap false`22 error Exit status 123 error Failed at the testapp@1.2.3 build:release script.23 error This is probably not a problem with npm. There is likely additional logging output above.24 verbose exit [ 1, true ]```","open","693","undefined","[object Object],[object Object]","null"
"Build errors about drawable since upgrading to v8.0.0","# Bug Report## Problem### What is expected to happen?Building a cordova app with `ionic cordova build android --prod --release` does not throw errors.### What does actually happen?I see this error in the console:```/platforms/android/app/src/main/res/drawable-land-hdpi/screen.png: Error: The drawable "screen" in drawable-land-hdpi has no declaration in the base drawable folder or in a drawable-densitydpi folder; this can lead to crashes when the drawable is queried in a configuration that does not match this qualifier [MissingDefaultResource]```## Information<!-- Include all relevant information that might help understand and reproduce the problem -->This error was not present in v7.XI do specify a splash screen in `config.xml` like so: `<splash density="land-hdpi" src="resources/android/splash/drawable-land-hdpi-screen.png" />`And it gets displayed correctly (according to my tests so far)I'm using this plugin to configure the splash screens: https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-splashscreen/I only included 1 example of the errors I'm getting to keep the bug report small. But I get it for different screen sizes & densities.I understand that it has something to do with android linting rules: http://tools.android.com/tips/lint-checksBut I don't fully understand if it's a misconfiguration in the plugin or if cordova-android needs to do something differently.### Command or Code<!-- What command or code is needed to reproduce the problem? -->`ionic cordova build android --prod --release`### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->On all. It happens on build time.### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->```~/Documents/komed/komed-frontend$ ionic infoIonic:   ionic (Ionic CLI)  : 4.11.0 (/Users/borntsch/.nvm/versions/node/v8.13.0/lib/node_modules/ionic)   Ionic Framework    : ionic-angular 3.9.2   @ionic/app-scripts : 3.2.3Cordova:   cordova (Cordova CLI) : 8.0.0   Cordova Platforms     : android 8.0.0, browser 5.0.4, ios 5.0.0   Cordova Plugins       : cordova-plugin-ionic-webview 2.3.1, (and 27 other plugins)System:   Android SDK Tools : 26.1.1 (/Users/borntsch/Library/Android/sdk)   ios-deploy        : 1.9.2   ios-sim           : 7.0.0   NodeJS            : v8.13.0 (/Users/borntsch/.nvm/versions/node/v8.13.0/bin/node)   npm               : 6.4.1   OS                : macOS Mojave   Xcode             : Xcode 10.1 Build version 10B61```## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [X] I searched for existing GitHub issues- [X] I updated all Cordova tooling to most recent version- [X] I included all the necessary information above","open","689","undefined","","null"
"Web Worker in cordova","# Bug Report## ProblemI can't seem to get my cordova app to execute even a simple web worker, even though the same web worker works in the Chrome browser on the same device. (Android device, Google Pixel 3, running Android 9, latest patch level. The app was built in PhoneGap build with `cli-8.0.0`)Setup in the main thread:```const worker = new Worker('/fake.worker.js');worker.postMessage(1337);worker.addEventListener('message', event => console.log("[myWorker] received event from myWorker:", event));```And the `/fake.worker.js` file is just this, no transpilation:```/* eslint-disable no-restricted-globals */console.log("fake.worker booted");self.addEventListener("message", startCounter);function startCounter(event) {    console.log(event.data, self)	let initial = event.data;	console.log("fake.worker counter started:", initial);	    setInterval(() => this.postMessage(initial++), 1000);}```Bottom line, the console never shows anything from the worker, either from the main thread or from the worker thread's `console.log` statements. While attached to the device and remote debugging, I can see that `('Worker' in window) === true` and that the Network tab of the remote console that the `fake.worker.js` file is indeed loaded. (Serving the file via `ngrok` from my development laptop - after connecting to the remote console, I changed the location of the web view with `window.location.href = 'https://....ngrok...'`.) _Note_: I also tried including the Web Worker via an inline blob (`worker-loader` for webpack automated this for me, but the concept is shown at https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#Embedded_workers) - and when "embedded", the worker never booted.### What is expected to happen?Web Worker should boot and at minimum, console should show: `fake.worker booted`### What does actually happen?Nothing, no errors, nothing. Valid Worker object is created, but no events and no console output happens.## Information* N/A### Command or Code* Code above### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->* Android 9.0, latest patch (March 5)* PhoneGap `cli-8.0.0`* Built with PhoneGap build### Version information* PhoneGap `cli-8.0.0` (android ver 7.0.0)* Android 9.0* No plugins relevant## Checklist- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version **NB cannot use >`cli-8.0.0` due to plugin compat**- [x] I included all the necessary information above","open","688","undefined","[object Object],[object Object]","null"
"Use wwwExclude preference to filter www files.","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? --><!-- If it fixes an open issue, please link to the issue here. -->Resolves #684 ### Description<!-- Describe your changes in detail -->Modified the prepare process to use the wwwExcludes preference to provide a list of glob strings to use as excludes. The list is provided to FileUpdater.mergeAndUpdateDir() in its options.excludes parameter.With this change, files and directories can be excluded from the list of files copied to the assets www directory.### Testing<!-- Please describe in detail how you tested your changes. -->Used "cordova prepare android -d" before and after the change to prepare.js and reviewed the list of files copied to the assets/www directory.### Checklist- [ ] I've run the tests to see all new and existing tests pass- [ ] I added automated test coverage as appropriate for this change- [ ] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [ ] I've updated the documentation if necessary","open","685","undefined","","null"
"Would like to be able to filter files copied from www directory.","# Feature Request## Motivation Behind Feature<!-- Why should this feature be implemented? What problem does it solve? -->Currently, Cordova will copy all files from the project www folder to the assets folder during the prepare process. However, the project www folder may contain files that should not be part of the built application and as such, they should not be copied.## Feature Description<!-- Describe your feature request in detailPlease provide any code examples or screenshots of what this feature would look likeAre there any drawbacks? Will this break anything for existing users? -->It would be nice if Cordova could use a list of excludes to avoid copying unneeded files. I would suggest using a preference such as wwwExcludes. This preference would contain a list of glob strings that would be used to filter the list of files copied to the assets folder during the prepare process.## Alternatives or Workarounds<!-- Describe alternatives or workarounds you are currently using Are there ways to do this with existing functionality?-->The only current alternative is to use an after_prepare hook to remove the unneeded files. In my case, Cordova is copying VCS files (ie from .git or .hg) which can be quite large.","open","684","undefined","","null"
"Removing/re-adding Android platform results in "exec() call to unknown plugin" error at runtime","# Bug Report## ProblemI had an issue reported against a plugin of mine (https://github.com/dpa99c/cordova-plugin-hello-c/issues/10) and from the description it seemed like `cordova-plugin-ionic-webview` was the cause, but after some testing I found this is a red herring and the issue can be recreated without that plugin in a simple test case, so it seems that it's directly related to `cordova-android`.### What is expected to happen?Removing/re-adding the Android platform does not cause an issue on subsequently building and running the app project.### What does actually happen?Removing/re-adding the Android platform causes an issue on subsequently building and running the app project.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->[cordova-plugin-hello-c](https://github.com/dpa99c/cordova-plugin-hello-c) is a tutorial plugin that illustrates how to wrap a C/C++ library in a cross-platform Cordova plugin.[cordova-plugin-hello-c-test](https://github.com/dpa99c/cordova-plugin-hello-c-test) is a simple test harness Cordova project to validate/demonstrate the above plugin.It includes 2 plugins in its [`config.xml`](https://github.com/dpa99c/cordova-plugin-hello-c-test/blob/master/config.xml): `cordova-plugin-hello-c` and `cordova-plugin-whitelist`.### Command or Code<!-- What command or code is needed to reproduce the problem? -->To reproduce the issue:	git clone https://github.com/dpa99c/cordova-plugin-hello-c-test && cd cordova-plugin-hello-c-test	cordova platform add android@8.0.0	cordova run android=> Observe plugin output appears<img width="300" src="https://user-images.githubusercontent.com/2345062/53444907-44810900-3a07-11e9-9544-8d805143e7b3.png" />=> In `platforms/android/app/src/main/res/xml/config.xml` there is 1 `<feature>` element for `cordova-plugin-hello-c`:	<feature name="HelloCPlugin">        <param name="android-package" value="com.example.HelloCPlugin" />    </feature>Then remove/re-add Android platform:	cordova platform rm android --nosave && cordova platform add android --nosave	cordova run android=> Observe plugin output does not appear<img width="300" src="https://user-images.githubusercontent.com/2345062/53444859-27e4d100-3a07-11e9-93de-dacfa116c325.png" />=> In `platforms/android/app/src/main/res/xml/config.xml` there is now 1 `<feature>` element for `cordova-plugin-whitelist`, i.e. none for `cordova-plugin-hello-c`:	<feature name="Whitelist">        <param name="android-package" value="org.apache.cordova.whitelist.WhitelistPlugin" />        <param name="onload" value="true" />    </feature>=> The Android logcat indicates that on each call to the plugin, the plugin class could not be found by Cordova:	2019-02-26 17:47:49.429 11562-11648/io.cordova.hellocordova D/PluginManager: exec() call to unknown plugin: HelloCPluginRemove and re-add the plugin:	cordova plugin rm cordova-plugin-hello-c --nosave && cordova plugin add cordova-plugin-hello-c --nosave	cordova run android=> Observe plugin is still not found:	2019-02-26 20:15:39.300 11093-11173/io.cordova.hellocordova D/PluginManager: exec() call to unknown plugin: HelloCPluginI can also produce the same result with `cordova-android@7.1.4` so it's not something that has been introduced in `cordova-android@8.0.0`I'm not sure if this is related to https://github.com/apache/cordova-android/issues/636.### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->`cordova-android@7`, `cordova-android@8`### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Operating System, Android Studio, Xcode etc.-->`cordova@8.1.2`, `cordova-lib@8.1.1`, `cordova-android@8.0.0`Windows 10 64-bit 1809Android Studio 3.2.1## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","683","undefined","","null"
"authenticator.xml resource mipmap/icon not found","I updated cordova-android of 7.1.4 to 8.0.0 in ionic project.in browser work correctly with `ionic serve`but when build with `ionic cordova android build` throws the following error.     authenticator.xml:2: AAPT: error: resource mipmap/icon not foundhow to fix this problem ?","open","678","undefined","[object Object]","null"
"[8.0.0] Android environment variables output","See the folllowing output:```E:\Projects\throwaway\cordovaAndroid8Test  (helloworld@1.0.0)λ cordova run androidChecking Java JDK and Android SDK versionsANDROID_SDK_ROOT=undefined (recommended setting)ANDROID_HOME=C:\Users\Jan\AppData\Local\Android\sdk (DEPRECATED)Subproject Path: CordovaLibSubproject Path: app> Task :app:preBuild UP-TO-DATE> Task :CordovaLib:preBuild UP-TO-DATE> Task :CordovaLib:preDebugBuild UP-TO-DATE> Task :CordovaLib:checkDebugManifest UP-TO-DATE> Task :CordovaLib:processDebugManifest UP-TO-DATE> Task :app:preDebugBuild> Task :CordovaLib:compileDebugAidl NO-SOURCE> Task :app:compileDebugAidl NO-SOURCE> Task :CordovaLib:packageDebugRenderscript NO-SOURCE> Task :app:compileDebugRenderscript UP-TO-DATE> Task :app:checkDebugManifest UP-TO-DATE> Task :app:generateDebugBuildConfig UP-TO-DATE> Task :app:prepareLintJar UP-TO-DATE> Task :app:generateDebugSources UP-TO-DATE> Task :CordovaLib:compileDebugRenderscript UP-TO-DATE> Task :CordovaLib:generateDebugBuildConfig UP-TO-DATE> Task :CordovaLib:generateDebugResValues UP-TO-DATE> Task :CordovaLib:generateDebugResources UP-TO-DATE> Task :CordovaLib:packageDebugResources UP-TO-DATE> Task :CordovaLib:generateDebugRFile UP-TO-DATE> Task :CordovaLib:prepareLintJar UP-TO-DATE> Task :CordovaLib:generateDebugSources UP-TO-DATE> Task :CordovaLib:javaPreCompileDebug UP-TO-DATE> Task :CordovaLib:compileDebugJavaWithJavac UP-TO-DATE> Task :CordovaLib:processDebugJavaRes NO-SOURCE> Task :CordovaLib:transformClassesAndResourcesWithPrepareIntermediateJarsForDebug UP-TO-DATE> Task :app:javaPreCompileDebug> Task :app:mainApkListPersistenceDebug UP-TO-DATE> Task :app:generateDebugResValues UP-TO-DATE> Task :app:generateDebugResources UP-TO-DATE> Task :app:mergeDebugResources> Task :app:createDebugCompatibleScreenManifests UP-TO-DATE> Task :app:processDebugManifest> Task :app:processDebugResourcesNote: Some input files use or override a deprecated API.Note: Recompile with -Xlint:deprecation for details.> Task :app:compileDebugJavaWithJavac> Task :app:compileDebugNdk NO-SOURCE> Task :app:compileDebugSources> Task :app:mergeDebugShaders UP-TO-DATE> Task :app:compileDebugShaders UP-TO-DATE> Task :app:generateDebugAssets UP-TO-DATE> Task :CordovaLib:mergeDebugShaders UP-TO-DATE> Task :CordovaLib:compileDebugShaders UP-TO-DATE> Task :CordovaLib:generateDebugAssets UP-TO-DATE> Task :CordovaLib:packageDebugAssets UP-TO-DATE> Task :app:mergeDebugAssets> Task :app:validateSigningDebug UP-TO-DATE> Task :app:signingConfigWriterDebug UP-TO-DATE> Task :app:transformClassesWithDexBuilderForDebug> Task :app:transformDexArchiveWithExternalLibsDexMergerForDebug> Task :app:transformDexArchiveWithDexMergerForDebug> Task :app:mergeDebugJniLibFolders UP-TO-DATE> Task :CordovaLib:compileDebugNdk NO-SOURCE> Task :CordovaLib:mergeDebugJniLibFolders UP-TO-DATE> Task :CordovaLib:transformNativeLibsWithMergeJniLibsForDebug UP-TO-DATE> Task :CordovaLib:transformNativeLibsWithIntermediateJniLibsForDebug UP-TO-DATE> Task :app:transformNativeLibsWithMergeJniLibsForDebug UP-TO-DATE> Task :app:processDebugJavaRes NO-SOURCE> Task :app:transformResourcesWithMergeJavaResForDebug> Task :app:packageDebug> Task :app:assembleDebug> Task :app:cdvBuildDebugBUILD SUCCESSFUL in 13s42 actionable tasks: 12 executed, 30 up-to-dateBuilt the following apk(s):        E:\Projects\throwaway\cordovaAndroid8Test\platforms\android\app\build\outputs\apk\debug\app-debug.apkChecking Java JDK and Android SDK versionsANDROID_SDK_ROOT=undefined (recommended setting)ANDROID_HOME=C:\Users\Jan\AppData\Local\Android\sdk (DEPRECATED)No target specified and no devices found, deploying to emulatorNo emulator images (avds) found.1. Download desired System Image by running: "C:\Users\Jan\AppData\Local\Android\sdk\tools\android.bat" sdk2. Create an AVD by running: "C:\Users\Jan\AppData\Local\Android\sdk\tools\android.bat" avdHINT: For a faster emulator, use an Intel System Image and install the HAXM device driver```It contains this bit twice:```Checking Java JDK and Android SDK versionsANDROID_SDK_ROOT=undefined (recommended setting)ANDROID_HOME=C:\Users\Jan\AppData\Local\Android\sdk (DEPRECATED)```although this is not really relevant to me _at all_ as everything is fine with my environment variables. Maybe we should only show this if there is a problem, and otherwise just focus on the important output?","open","671","undefined","[object Object]","null"
"[8.0.0] Android environment variables: ANDROID_HOME vs ANDROID_SDK_ROOT - cosmetic display issue","Hey @brodybits (as I remember you pushed a PR in this area), check out the output of running `cordova build android` on a brand new machine where I just installed Android Studio:```E:\Projects\throwaway\cordovaAndroid8Test  (helloworld@1.0.0)λ cordova platform listInstalled platforms:  android 8.0.0Available platforms:  browser ~5.0.1  ios ~4.5.4  osx ~4.0.1  windows ~6.0.0E:\Projects\throwaway\cordovaAndroid8Test  (helloworld@1.0.0)λ cordova build androidChecking Java JDK and Android SDK versionsANDROID_SDK_ROOT=undefined (recommended setting)ANDROID_HOME=C:\Users\Jan\AppData\Local\Android\sdk (DEPRECATED)Starting a Gradle Daemon (subsequent builds will be faster)...```Strange that this set `ANDROID_HOME`, and not `ANDROID_SDK_ROOT`, isn't it?","open","670","undefined","[object Object],[object Object]","null"
"Cleanup build scripts","especially the Gradle build scriptstoo complex and error-prone; the scripts need to be more straightforward","open","667","undefined","[object Object]","null"
"Android build failes looking from common.jar","Not really sure what is causing this. I try to build a dev android versionionic cordova build android I expect that to build an android versionI’m getting this error.> FAILURE:> Build failed with an exception.> > What went wrong:> A problem occurred configuring root project ‘android’.> > Could not find common.jar (android.arch.lifecycle:common:1.1.0).> > Searched in the following locations:> >   https://jcenter.bintray.com/android/arch/lifecycle/common/1.1.0/common-1.1.0.jarThe only thing I have tried it remove android and add android back (Android 6.3.0).Same thing. I try to go to that path that its looking for that file and it doesn't exist anymore.   I don't really feel this is a Cordova problem, but not sure what is wrong. ","open","665","undefined","","null"
"Cleanup GradlePropertiesParser.js","see <https://github.com/dpogue/cordova-android/commit/d18f8d18a10a50084130300d5edbb84901b59707>, as suggested in review of PR #655, and <https://github.com/dpogue/cordova-android/commit/cc07cfb78cf5546440d84fc418aa39ebe3baf10b> (followup change)","open","662","undefined","","null"
"Remove old Eclipse project artifacts","as suggested by @dpogue in <https://github.com/dpogue/cordova-android/commit/d5f888b81c947e984cc0101862770a8113bc38fb> (comes before <https://github.com/dpogue/cordova-android/commit/d18f8d18a10a50084130300d5edbb84901b59707> as suggested by @dpogue in review of PR #655)this includes removing project.properties files (issue #660)","open","661","undefined","","null"
"chore: drop node 6 and 8 support","### Motivation and Context* Follow inline with Node Support* Prepare for next major* https://github.com/apache/cordova/issues/79### Description* Removes Node 6 and 8 from CI Testing Services* Bump `engines.node` to `>=10` in `package.json`### Testing- `npm t`- CI services continue to pass### Checklist- [x] I've run the tests to see all new and existing tests pass","open","832","undefined","","[object Object]"
"chore: drop q module","### Motivation and Context- Drop `q` module for native promises- https://github.com/apache/cordova/issues/7### Description- Remove all `q` usages### Testing- `npm t`- [Travis CI](https://travis-ci.org/erisu/cordova-android/builds/589772396)- [AppVeyor](https://ci.appveyor.com/project/erisu/cordova-android/builds/27678088)**Notice:** Node 6 and 8 tests in Travis CI and AppVeyor fails. This PR is intended for next major as it uses APIs from Node `>=10`. PR https://github.com/apache/cordova-android/pull/832 will be required first.### Checklist- [x] I've run the tests to see all new and existing tests pass","open","833","undefined","","[object Object]"
"Support API level 29 (Android 10)","# Feature Request## Motivation Behind FeatureBecause android 10 is announced and released, platforms should be updated to version 29 when I do `cordova build android`https://developer.android.com/studio/releases/platformsCurrently, the API version supported with android-cordova 8.1.0 is 19-28 for android 4.4-9.0.0 https://cordova.apache.org/docs/en/latest/guide/platforms/android/## Alternatives or WorkaroundsUsing android studio directly to release and update platforms to build my aab, but I'm using docker to build the aab for automated operations.","open","830","undefined","","[object Object]"
"Ignore auto-generated eclipse buildship files","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedNone### Motivation and Context<!-- Why is this change required? What problem does it solve? --><!-- If it fixes an open issue, please link to the issue here. -->Eclipse buildship `.project` files are being added to several directories automatically from my code editor (VS Code) when working on `cordova-android` tasks. I think it makes sense for these files to be git ignored.### Description<!-- Describe your changes in detail -->Added `**/.project` line in `.gitignore`### Testing<!-- Please describe in detail how you tested your changes. -->### Checklist- [x] I've run the tests to see all new and existing tests pass- [x] I added automated test coverage as appropriate for this change- [x] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [x] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [x] I've updated the documentation if necessary","open","831","undefined","","null"
"getASPath.bat fails for project paths with parenthesis","# Bug ReportSuddenly I couldn't build my project because it was coming at me with this error:```Could not find an installed version of Gradle either in Android Studio,or on your system to install the gradle wrapper. Please include gradlein your path, or install Android Studio```After a bit of digging my guess was because I had recently renamed my project folder to have parenthesis.  (eg. "myCordova(chromecast)")Removing the parenthesis made it work again.## ProblemI believe the problem lies in myCordova(chromecast)\platforms\android\cordova\lib\getASPath.bat` ([getASPath.bat on github](https://github.com/apache/cordova-android/blob/master/bin/templates/cordova/lib/getASPath.bat))When I uncomment lines 93 and 94 from `myCordova(chromecast)\platforms\android\cordova\lib\check_reqs.js````92        var result = child_process.spawnSync(path.join(__dirname, 'getASPath.bat'));93        console.log('result.stdout =' + result.stdout.toString());94        console.log('result.stderr =' + result.stderr.toString());```I get this output:```result.stdout =result.stderr ='S:\Projects\myCordova' is not recognized as an internal or external command,```So it looks like getASPath.bat does not handle the parenthesis well (since it truncated the path in the output).(See my next comment for more detailed debugging)### Command or Code`cordova run android`### Environment, Platform, DeviceWindows, Android### Version informationhttps://github.com/apache/cordova-android.git#4cf3dcfaae6dc82ddb1ccf439d209cbcc2f474a0(getASPath.bat is the same on this commit as it is on master.)## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","824","undefined","","null"
"Prevent exit fullscreen mode from closing application ","### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? -->This PR proposes a simple, quick, solution to overcome a problem with full screen mode that, when on and back button is pressed, the application is closed instead of exiting full screen. For more details see #822 and also https://bugs.chromium.org/p/chromium/issues/detail?id=999212Fixes #822 ### DescriptionThe custom view provided by WebKit on SystemWebChromeClients's `onShowCustomView` method is wrapped in a custom FrameLayout in order to be able to grab key events and redirect them into `SystemWebView`'s `dispatchKeyEvent`. Given that the custom view is the one with the focus, that's the one handling input, for this reason, we can hijack those key events and redirect them so that they end up closing the custom view because, as stated on the linked chromium bug ([#999212](https://bugs.chromium.org/p/chromium/issues/detail?id=999212)), the `onHideCustomView` method from the WebChromeClient subclass is not being executed for recent versions of Chrome, hence, not exiting full screen mode and instead, closing the MainActivity/ Application.### TestingManual tests on a Pixel (Android 7.1.2) and Pixel 2 XL (Android 10) with Chrome updated to the most recent version.### Checklist- [X] I've run the tests to see all new and existing tests pass- [ ] I added automated test coverage as appropriate for this change- [X] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [X] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [ ] I've updated the documentation if necessary","open","823","undefined","","null"
"Back button event on full screen video closes application","# Bug Report## ProblemAs the title suggests, attempting to exit fullscreen using the back button, closes the application instead of exiting fullscreen.1. Create a cordova application with a <video> element capable of going full screen.2. Enter full screen mode on video3. Hit back button### What is expected to happen?Full screen mode should be exited.### What does actually happen?Application is closed.## InformationFrom what I could gather this is in fact a problem with Chrome itself, I've seen this occur on chrome versions (at least) higher than 74.0.3729.186 up to the current stable version (76.0.3809.132).A [bug report](https://bugs.chromium.org/p/chromium/issues/detail?id=999212) on chromium bug tracker was also opened ### Command or CodeN/A### Environment, Platform, DeviceAndroid, any version that uses Chrome as the webview provider and it has been updated.### Version informationcordova cli: 7.1.0cordova-android: 8.0.0## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [X] I searched for existing GitHub issues- [ ] I updated all Cordova tooling to most recent version- [X] I included all the necessary information above","open","822","undefined","","null"
"Android clicking input type=file brings up system file browser, not camera options","# Bug Report## ProblemWhen clicking on an html type="file" input a system file picker appears instead of camera options. ![ss](https://cl.ly/3dc68efab053/Screenshot%202019-08-20%20at%2008.35.57.png)### What is expected to happen?If I perform the same action in the system browser I get the expected dialog:![ss2](https://cl.ly/97f9c511714e/Screenshot%202019-08-20%20at%2008.38.29.png)### Version information```"cordova-android": "^8.0.0","cordova-plugin-camera": "^4.1.0"```cordova-cli 9.0.0Full [test case repo here](https://bitbucket.org/alex-crooks/android-file-test/src/master/)## Checklist- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","816","undefined","[object Object]","null"
"Setting different icon for push notification and launcher","# Bug Report## ProblemPush notification icon to look nice have to be transparent and foreground white but launcher app icon need to be colorfull.### What is expected to happen?You must have an way to set different kind of icons to push notification and launcher.### What does actually happen?You use the same icon for both and this is looking horrible## Information<!-- Include all relevant information that might help understand and reproduce the problem -->### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [ ] I searched for existing GitHub issues- [ ] I updated all Cordova tooling to most recent version- [ ] I included all the necessary information above","open","798","undefined","","null"
"[MAJOR] Gradle upgrade from 4.10.3 to 6.x","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? -->Updates gradle version to the latest release (currently 5.5.1). It solves a few issue tickets that supposedly was caused after upgrading Android Studio.<!-- If it fixes an open issue, please link to the issue here. -->Fixes #780 Fixes #754 Fixes #718 Fixes #834 ### DescriptionChanged the desired gradle version from 4.10.3 to 5.5.1### Testing<!-- Please describe in detail how you tested your changes. -->I have tested using `npm test` and all tests passed. Note that if you have ran `npm test` before, you will need to remove the `/test/gradlew` file so the test project will download the new gradle version.I have also tested by creating a brand new cordova app, and adding the `cordova-android` platform by using `cordova platform add https://github.com/breautek/cordova-android.git#gradle-5.x`Then running the `cordova build android` command.I'd also like to make a note that gradle 5.5.1 does currently produce a warning stating:> Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.Running gradlew manually with `--verbose --stacktrace`  shows the code triggering the warning is android internal code.### Checklist- [x] I've run the tests to see all new and existing tests pass- [x] I added automated test coverage as appropriate for this change- [x] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [x] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [x] I've updated the documentation if necessary","open","792","undefined","[object Object]","[object Object]"
"Unsecure functions","# Bug ReportUnsecure functions Use.## ProblemHello, i was auditing the security of mobile app of a client, who is using Cordova framework within it's application. i noticed while testing the use of deprecated functions in term of security, and i wanted to kindly report and have a disscussion about this. examples of functions : random() | HttpURLConnection() | setWebContentsDebuggingEnabled(true) | SetAllowUniversalAccessFromFileURLs(true)why you still using them?Do you think they are secure enough to be used?what about using SecureRandom(), HttpsURLConnection()...etc instead?### What is expected to happen?### What does actually happen?## Information<!-- Include all relevant information that might help understand and reproduce the problem -->### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [ ] I searched for existing GitHub issues- [ ] I updated all Cordova tooling to most recent version- [ ] I included all the necessary information above","open","789","undefined","[object Object],[object Object],[object Object],[object Object]","null"
"Improve coding style (general)","Some ideas that I raised in review of PR #764, some of which may apply to other Cordova packages:- use JavaScript array methods such as `forEach`, `map`, and `reduce` to get rid of for loops- in case of JavaScript objects, use `keys` method to get the array of keys then use array methods to get rid of for loops- use `const` (first choice) or `let` (second choice) instead of `var`- use ternaries to get rid of if blocks- use nested ternaries to get rid of multiple if blocks (possibly controversial)- use utility packages such as [`recursive-readdir-sync`](https://www.npmjs.com/package/recursive-readdir-sync) whenever possible instead of `shelljs` and to reduce the amount of “fs*” code we have to maintainI am raising this issue before it gets forgotten. Maybe we should transfer or write this issue in <https://github.com/apache/cordova/issues> for larger discussion and consideration.","open","786","undefined","[object Object]","null"
"Could not resolve all files for configuration ':CordovaLib:classpath'.","report an error  when i build android ￼￼![image](https://user-images.githubusercontent.com/26177875/61344374-9f66b000-a883-11e9-8abd-4b6e1b3a9b5f.png)","open","785","undefined","[object Object],[object Object]","null"
"[MAJOR] Migrate from shelljs to fs-extra","As discussed during review of PR #764 (aab support). This idea originally comes from [Apache CB-14140 (jira)](https://issues.apache.org/jira/browse/CB-14140) which was done on the common/library packages. Here are some PRs to check out as examples:- apache/cordova-common#21- apache/cordova-lib#613- https://github.com/apache/cordova-fetch/pull/23- https://github.com/apache/cordova-create/pull/19One thing to watch out for: We did encounter apache/cordova#121 on Windows, which was eventually solved by a workaround on fs-extra@8.A few more pointers:For spawning external processes, we migrated from Node.js “child_process” to cross-spawn in apache/cordova-common#50, started discussing further work in apache/cordova#16.From @erisu (quoted from <https://github.com/apache/cordova-android/pull/764#discussion_r302806133>; see apache/cordova#79 for larger discussion on deprecating at least Node.js 6):> Additionally, the next major will deprecates deprecates node 6 and 8 which allows us to leverage modern JS to cleanly write a recursive directory scan.>> Example: https://stackoverflow.com/a/45130990/1644129","open","781","undefined","[object Object]","[object Object]"
"[MAJOR] Update for Gradle version 5","From discussion in #718 it sounds like we should update cordova-android to use Gradle 5.I think this should be considered a MAJOR BREAKING CHANGE, for a new major release.Any contributions would be much appreciated.This may also be related to #754.","open","780","undefined","[object Object]","[object Object]"
"Password from keystore password prompt is not used, placeholder "__unset" used as actual keystore password","# Bug Report## Problem### What is expected to happen?If we don't specify `"storePassword"` or `"password"` in `build.json`, then `cordova build android --release` will prompt for the password. That password should be used to access the keystore.### What does actually happen?We get an error, even if the password was typed correctly:```> com.android.ide.common.signing.KeytoolException: Failed to read key my_key from store "my.keystore": Keystore was tampered with, or password was incorrect```If I change both the store and the key password to `__unset` (which is used in `app/build.gradle` as a temporary placeholder), then the signing step completes successfully, regardless of which password I entered in the prompt. So it seems that the password from the prompt does not successfully replace this placeholder.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->### Command or Code<!-- What command or code is needed to reproduce the problem? -->```sh$ cordova create my_app$ cd my_app$ cordova platform add android$ echo '{"android": {"release": {"keystore": "my.keystore", "alias": "my_key"}}}' > build.json$ keytool -genkey -keystore my.keystore -alias my_key -v -keyalg RSA -keysize 2048 -validity 10000 -keypass testtest -storepass testtest# Press Enter until "[no]" appears, then type "[yes]"$ cordova build android --release# Enter "testtest" at both password prompts...Execution failed for task ':app:packageRelease'.> com.android.ide.common.signing.KeytoolException: Failed to read key my_key from store "/tmp/repro/my_app/my.keystore": Keystore was tampered with, or password was incorrect```But if the passwords happen to be `__unset`, it's better:```sh$ rm my.keystore $ keytool -genkey -keystore my.keystore -alias my_key -v -keyalg RSA -keysize 2048 -validity 10000 -keypass __unset -storepass __unset# Press Enter until "[no]" appears, then type "[yes]"$ cordova build android --release...BUILD SUCCESSFUL in 7s43 actionable tasks: 2 executed, 41 up-to-dateBuilt the following apk(s): 	/.../my_app/platforms/android/app/build/outputs/apk/release/app-release.apk```### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->Arch Linux on x86_64### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->* Cordova CLI 9.0.0* Cordova lib 9.0.1* Cordova Android 8.0.0* Android SDK build tools 29.0.0## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","761","undefined","[object Object]","null"
"App config.xml does not update AndroidManifest.xml file's versionCode, versionName or anything","# Bug ReportApp config.xml does not update AndroidManifest.xml file's versionCode, versionName or anything## ProblemI have changed app version, add some meta-data at android scope in config.xml file but after build it does not update android 'AndroidManifest.xml' file. I still see the previous value and meta-data in 'AndroidManifest.xml'.### What is expected to happen?changing on app config.xml file [app version, meta-data], should be changed in android 'AndroidManifest.xml' file after build.### What does actually happen?After changing app config.xml file widget version, meta-data, when the build finished nothing updated in AndroidManifest.xml file. And it shows no error, warning in build console/terminal. Build was success.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->Changes on config.xml file data [app widget version], it changes automatically app version for the first couple of builds but after 6-7th time cordova build it does not automatically update. 'AndroidManifest.xml' so my android build version not updating and meta-data not added.**Screenshot attached**1. App config.xml file<img width="866" alt="Screen Shot 2019-07-03 at 7 39 14 PM" src="https://user-images.githubusercontent.com/47731403/60596300-8f05fe00-9dca-11e9-857a-020020899bd0.png">2. AndroidManifest.xml file after cordova build, it still showing previous properties<img width="1073" alt="Screen Shot 2019-07-03 at 7 40 30 PM" src="https://user-images.githubusercontent.com/47731403/60596371-b066ea00-9dca-11e9-86c2-133f59d08520.png">### Command or Code<!-- What command or code is needed to reproduce the problem? -->`ionic cordova build android`### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->```Ionic:   ionic (Ionic CLI)  : 4.0.1   Ionic Framework    : ionic-angular 3.9.4-201903121725   @ionic/app-scripts : 3.1.8Cordova:   cordova (Cordova CLI) : 8.1.2 (cordova-lib@8.1.1)   Cordova Platforms     : android 7.1.4, browser 5.0.4, ios 4.5.4System:   Android SDK Tools : 26.1.1   ios-deploy        : 1.9.4   NodeJS            : v10.15.1 (/usr/local/bin/node)   npm               : 6.4.1   OS                : macOS High Sierra   Xcode             : Xcode 10.1 Build version 10B61Environment:   ANDROID_HOME : /Users/bs228/Library/Android/sdk```### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","758","undefined","[object Object]","null"
"Trigger "backbutton" event for gesture navigation in Android 9","# Feature Request## Motivation Behind FeatureIn Android Pie, there is a new way to navigate using gestures instead of buttons to get more screen space, but I couldn't use theses gestures in a Cordova app.## Feature DescriptionTrigger "backbutton" event for gesture navigation in Android 9","open","759","undefined","[object Object]","null"
"How to run shell/Command Line Program/Unix Executable in cordova app？","How to run shell/Command Line Program/Unix Executable in cordova app？such as node![image](https://user-images.githubusercontent.com/19659202/56096552-4271fb80-5f1c-11e9-9fbb-13f6b67fd6b0.png)","open","756","undefined","[object Object]","null"
"Project stopped to build with error appComponentFactory","# Bug ReportWe build our project too long time without any changes, but a week ago we got an error:platforms/android/build/intermediates/manifests/full/armv7/debug/AndroidManifest.xml:82: error: No resource identifier found for attribute 'appComponentFactory' in package 'android'## ProblemWe cannot build our project, the only way is to change `target` from `android-26` to `android-28` manually in `platforms/android/project.properties`.### What is expected to happen?We can build it automaticlly.### What does actually happen?We cannot do it.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->Debian stretch### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->gradle 4.4.1cordova 8.1.2cordova-android 6.3.0npm 6.7.0## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","755","undefined","[object Object]","null"
"gradle wrapper broken","# Bug Reportgradle wrapper broken## Problemcordova platform add androidcordova platform add browsergradle wrapper --gradle-version 5.1.1cordova prepare### What is expected to happen?app\build.gradle : line:42```task wrapper(type: Wrapper) {    gradleVersion = '5.1.1'}```### What does actually happen?app\build.gradle : line:42```task wrapper(type: Wrapper) {    gradleVersion = '4.10.3'}```## Information<!-- Include all relevant information that might help understand and reproduce the problem -->`9.0.0 (cordova-lib@9.0.1)`### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above","open","754","undefined","[object Object]","null"
"Use java package name for loading BuildConfig","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedAndroid### Motivation and Context<!-- Why is this change required? What problem does it solve? --><!-- If it fixes an open issue, please link to the issue here. -->Resolving `BuildConfig` using android package name (`Context.getPackageName`) will only work when java and android package names are the same.Android package name is effectively its `applicationId` which does not have to match java package name.A common practice is to use different android package names for different built variants/flavours, ie:```debug {	applicationIdSuffix ".debug"}```Now the applicationId (and android package name) might be something like `com.example.debug`, but `BuildConfig `will still resolve by `com.example.BuildConfig` instead of `com.example.debug.ClassName`This pull request resolves issue #513.### Description<!-- Describe your changes in detail -->Now using `java.lang.Class.getPackage()` instead of `android.content.Context.getPackageName()`### Testing<!-- Please describe in detail how you tested your changes. -->Tested with and without `applicationIdSuffix` with single Android 9 device.### Checklist- [ ] I've run the tests to see all new and existing tests pass- [ ] I added automated test coverage as appropriate for this change- [ ] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [x] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [x] I've updated the documentation if necessary","open","751","undefined","","[object Object]"
"bug / trivial programming error -- crash in fresh build 'Cannot read property 'length' of undefined'","# Bug Report## Problema javascript file in cordova has a trivial and very-very old problem - this problems har been around for long, and you cannot build on windows unless you modify the check_reqs.js file in the  'platforms/android/cordova/lib' directory### What is expected to happen?The build call 'get_gradle_wrapper'  to find an path to gradle but it fails, because the javascript that locates gradle-dir has a flaw### What does actually happen?crash in build 'Cannot read property 'length' of undefined'## Information line 116 your version-----------------------      if (dirs[0].split('-')[0] === 'gradle') {          console.log( dirs[0])            return path.join(androidStudioPath, dirs[0], 'bin', 'gradle');        }line 116 my version-----------------------       var gradledir;        dirs.forEach((dir) => {          if (dir.split('-')[0] === 'gradle')              gradledir = path.join(androidStudioPath, dir, 'bin', 'gradle');        });       if (!gradledir)            throw new CordovaError('Could not find a version of gradle in Android Studio');       return gradledir;The problems is that 'dirs' is an array and the gradle directory is (no more ?) the only sub-directory in 'androidstudiopath'. It's a simple error.### Command or CodeFresh install      cordova build android --debug (or release)### Environment, Platform, DeviceWindows 10, android app### Version informationcordova -v = 9.0.0 (cordova-lib@9.0.1)"cordova-android": "^8.0.0", (exists in 6 and 7 versions also )android studio 3.4.1 (but exists in android 2.1, 3.0, and 3.2 also)gradle 5.1.1 (also in 4.6)## Checklist- [ x] I searched for existing GitHub issues- [ x] I updated all Cordova tooling to most recent version- [x ] I included all the necessary information above","open","745","undefined","","null"
"Warning to fix: android.bat shouldn't be recommended anymore","Hi,When `cordova requirements` command is typed and any Android target hasn't been assigned, cordova recommends to use `android.bat` to install a fresh Android target. However, sdkmanager.bat should be used instead of android.bat.I would be very happy to fix it myself, but I don't know the location of this warning.","open","741","undefined","","null"
"bug: deploying installs & launches app but doesn’t create launcher on android","# Bug Report## Problemwhen I deploy ionic app it installs and opens up but it doesn't create a launcher on my phone, so after closing the app I can literally never open it up again### What is expected to happen?Behaviour I used to have for the past month and a half developing in ionic 4 native:-> Plug my phone to the PC-> Make sure it’s connected and working using adb devices-> Start developing something-> Deciding it’s time to test it-> Deploy the app to the phone by using: ionic cordova run android --target-> If the app was installed, it would update, if it wasn’t, it would be installed, and stay installed even after closing it, I could open it up again using the launcher if I ever wanted to, it would be literally installed as any other app-> Whenever I made big alterations to the sqlite local database such as creating new tables I’d completely wipe it's data and uninstall the app, since updating it created conflicts, and deployed again clean-> Everything worked, happy dev### What does actually happen?Behaviour starting couple days ago:-> I deploy using: ionic cordova run android --target-> I’m watching the terminal-> I see app building logs-> I see app deployment logs-> app opens up on my phone-> app works PERFECTLY-> going to settings -> installed apps, app is there-> when I go to my home menu, app is no where to be found, I go and even search for it by name, nothing, apparently it is installed but something is going on and not creating the launcher## Steps to reproduceI don't know what caused this to start happening, but it is happening and I don't know how to reproduce it, or how to stop it from happening to me, it's driving me crazy, I close the app by mistake and then I have to deploy again just to open it up.Any ideas what could be causing this bug? This is somewhat tolerable when I’m on my pc working since I can open the app by deploying it again, but when I’m not near my computer I literally have no way to open up the appHere's the app installed![image](https://user-images.githubusercontent.com/18098208/57709776-86fbce80-7663-11e9-837a-049781b14a82.png)### Command or Code<!-- What command or code is needed to reproduce the problem? -->ionic cordova run android --target### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->I'm on windows 10, using IONIC 4 and deploying directly to my android device which requires android studio and sdk installed### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->Environment:  OS: win32  Node: v10.15.3  npm: 6.9.0>cordova info  cordova-lib@9.0.0 with:  cordova-common@3.1.0  cordova-create@2.0.0  cordova-fetch@2.0.1  cordova-serve@3.0.0Plugins:  cordova-plugin-app-version  cordova-plugin-camera  cordova-plugin-device  cordova-plugin-ionic-keyboard  cordova-plugin-ionic-webview  cordova-plugin-screen-orientation  cordova-plugin-splashscreen  cordova-plugin-statusbar  cordova-plugin-telerik-imagepicker  cordova-plugin-whitelist  cordova-sqlite-storage  es6-promise-plugin>ionic info   ionic (Ionic CLI)             : 4.12.0 (C:\Users\SCuragau\AppData\Roaming\npm\node_modules\ionic)   Ionic Framework               : @ionic/angular 4.3.0   @angular-devkit/build-angular : 0.13.8   @angular-devkit/schematics    : 7.2.4   @angular/cli                  : 7.3.8   @ionic/angular-toolkit        : 1.4.1```![image](https://user-images.githubusercontent.com/18098208/57914522-ae7eb100-7886-11e9-9835-646ab4ce2824.png)## Checklist- [x] I searched for existing GitHub issues- [x] I updated all Cordova tooling to most recent version- [x] I included all the necessary information aboveEdit: I also tired deploying it directly from android studio to my phone by executing the project![image](https://user-images.githubusercontent.com/18098208/57915400-9f006780-7888-11e9-9514-ebee6170c16e.png)It builds, it installs because it appears in the installed apps, but it doesn't open up the app.","open","742","undefined","","null"
"Potential vulnerability detected into a security audit.","# Bug Report## ProblemRecently we have submitted our Ionic App for a security audit and this is report about Cordova-Android:**-Vulnerability**: Code Correctness: Double-Checked Locking**-Description:** The method relies on double-checked locking, an incorrect idiom that does not achieve the intended effect.**-Fortify Priority:** High.**-Fortify Priority:** Explotable.**-Sink:**```File Path : File Path : project/node_modules/cordova-android/framework/src/org/apache/cordova/NativeToJsMessageQueue.java Line Number : 93if (newMode != null) {                        newMode.reset();                        if (!paused && !queue.isEmpty()) {                            newMode.onNativeToJsMessageAvailable(this);                        }```**Recommendation:**Avoid   double null-checking adding into code complexity and maintenance burden.   Synchronize and then null check**Environment**Ionic info:```Ionic:   ionic (Ionic CLI)  : 4.8.0   Ionic Framework    : ionic-angular 3.9.2   @ionic/app-scripts : 3.2.1Cordova:   cordova (Cordova CLI) : 8.0.0   Cordova Platforms     : android 7.1.4, ios 4.5.5   Cordova Plugins       : no whitelisted plugins (14 plugins total)System:   Android SDK Tools : 26.1.1 (/Users/user/Library/Android/sdk)   ios-deploy        : 1.9.2   ios-sim           : 7.0.0   NodeJS            : v9.9.0 (/usr/local/bin/node)   npm               : 5.7.1   OS                : macOS Mojave   Xcode             : Xcode 10.2 Build version 10E125```The version of Cordova-android is 7.1.4 but into 8.0.0 version the problem persistIt should be fixed?","open","740","undefined","[object Object],[object Object],[object Object]","null"
"Updating application version in config.xml with edit-config on AndroidManifest /manifest","# Bug Report## Problem### What is expected to happen?`android:versionCode` & `android:versionName` in AndroidManifest.xml updated with `cordova build android` with config.xml :```xml<widget ... version="X.X.X+1" ...```with also an edit-config on the AndroidManifest.xml like this :```xml<platform name="android">    <edit-config file="AndroidManifest.xml" mode="merge" target="/manifest">        <manifest xmlns:tools="http://schemas.android.com/tools" />    </edit-config>```### What does actually happen?`android:versionCode` & `android:versionName` in AndroidManifest.xml are not updated with `cordova build android` with the edit-config showed above in the config.xml.When i remove the android platform and recreate it, `android:versionCode` & `android:versionName` are correctly created. (this is what i want to avoid...)When i remove the edit-config showed above, it works. `android:versionCode` & `android:versionName` are correctly updated.## Information<!-- Include all relevant information that might help understand and reproduce the problem -->### Command or Code`cordova build android`### Environment, Platform, Device`<engine name="android" spec="6.3.0" />`### Version information8.1.2 (cordova-lib@8.1.1)## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [X] I searched for existing GitHub issues- [X] I updated all Cordova tooling to most recent version- [X] I included all the necessary information above","open","739","undefined","","null"
"Fixes nav and title bars showing in fullscreen mode for splashscreen plugin","<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklist is intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affectedAndroidcordova-plugin-splashscreen### Motivation and ContextThis is a fix for an issue with the splashscreen plugin where if the app is in fullscreen mode, the nav and title bars briefly show after the splashscreen hides. https://github.com/apache/cordova-plugin-splashscreen/issues/180### Description<!-- Describe your changes in detail -->The splashscreen plugin hides the main CordovaActivity initially and while the splashscreen is visible. However, the main activity doesn't call `setSystemUiVisibility` until it's focused. This causes the nav and title bars to briefly show after the splashscreen hides. This is happening because `setSystemUiVisibility` only applies while a view is visible. When the splashscreen hides, the system ui reverts back to visible before the main activity gets focused. So, to fix it, I'm calling `setSystemUiVisibility` in `onCreate` in addition to on focus. I'm new to the project, so I'm open to suggestions or adjustments on how to fix it.### Testing<!-- Please describe in detail how you tested your changes. -->Tested on Nexus 5x and simulator.Tested with splashscreen plugin### Checklist- [ ] I've run the tests to see all new and existing tests pass        - Current tests are failing for me without any changes.- [ ] I added automated test coverage as appropriate for this change- [ ] Commit is prefixed with `(platform)` if this change only applies to one platform (e.g. `(android)`)- [X] If this Pull Request resolves an issue, I linked to the issue in the text above (and used the correct [keyword to close issues using keywords](https://help.github.com/articles/closing-issues-using-keywords/))- [ ] I've updated the documentation if necessary","open","733","undefined","","[object Object]"
"How to use startActivity in cordovaActivity?","Help!My project was created by ionc and cordova CLI. I want to open a new activity in my app.But when i use startActivity in main class CordovaActivity, it doesn't work! I'm new to cordova.I don't know how to do","open","732","undefined","[object Object]","null"
"WebApp with cordova have communication problem on Citrix MDX wrapper","# Bug ReportWebApp with cordova have communication problem on Citrix MDX wrapper## ProblemWe have mobile application that use cordova and it's wrap by Citrix MDX wrapper - all calls to server are failed.when troubleshooting the issue with Citrix, they found that the app is using “SystemWebChromeClient” hooking for its network calls, which isn’t supported by the Citrix MDX wrapper. When I asked Citrix what they do support, they recommended that “SystemWebViewClient” is used instead.As per my understanding - cordova using both clients. is it possible to configure cordova to use only one ?### What is expected to happen?### What does actually happen?## Information<!-- Include all relevant information that might help understand and reproduce the problem -->### Command or Code<!-- What command or code is needed to reproduce the problem? -->### Environment, Platform, Device<!-- In what environment, on what platform or on which device are you experiencing the issue? -->### Version information<!-- What are relevant versions you are using?For example:Cordova: Cordova CLI, Cordova Platforms, Cordova Plugins Other Frameworks: Ionic Framework and CLI versionOperating System, Android Studio, Xcode etc.-->## Checklist<!-- Please check the boxes by putting an x in the [ ] like so: [x] -->- [ ] I searched for existing GitHub issues- [ ] I updated all Cordova tooling to most recent version- [ ] I included all the necessary information above","open","728","undefined","","null"
"Error validating package name. Must look like:","Version 7.1.4 of cordova android the package name/id cannot have dashes when using platform add. This works in earlier versions of cordova. Dash's in the name also work fine with iOS. Is this a bug?Also if I change it back after I add it works fine as well.Example package name like com.bob-alliance.audiotest causes the error: `Error validating package name. Must look like: 'com.company.Name'. Currently is: 'com.bob-alliance.audiotest'`Thoughts?","open","586","undefined","[object Object]","null"
"Error validating project name. Project name must not begin with a number.","Why is there a restriction to this?Google Play does not have this restriction.Is there anything that is affected by this?","open","584","undefined","","null"
"plugin.xml with platform version filters","About #580, I have a higher level concern about handling deprecation as a plugin author.It's ok to allow breaking changes in Cordova for the sake of progress, but the following small change in `plugin.xml` structure would give plugin authors flexibility to support multiple cordova versions.Has it been ever considered to allow multiple `<platform>` tags with version filters?Short demo of what I mean in a plugin description file:```xml<plugin ...>  <platform type="android" version="<8.0.0">    ...    <source-file src="src/android/ILib.aidl" target-dir="src/com/android/vending/billing" />    ...  </platform>  <platform type="android" version=">=8.0.0">    ...    <lib-file src="src/android/ILib.aidl" />    ...  </platform>  <platform type="android" version="*">    ... common stuff ...  </platform></plugin>```It's probably not specific to `cordova-android` though, where should such an idea be discussed?","open","585","undefined","[object Object],[object Object]","null"
"Automate `gradle connectedAndroidTests`","This project has additional tests to the normal JS stuff in https://github.com/apache/cordova-android/tree/master/test. Two commands: `gradlew test` (unit tests) and `gradlew connectedAndroidTest` (instrumentation tests).The unit tests are part of the CI run via https://github.com/apache/cordova-android/blob/master/test/run_java_unit_tests.js: https://github.com/apache/cordova-android/blob/ef2434188efeef868e91232188ef080acdd28e32/package.json#L21-L30But I couldn't find anything for the `connectedAndroidTest`, which probably means this test is not run automatically right now.(Both test types pass right now by the way.)","open","581","undefined","","null"
"AppVeyor/Windows CI builds are broken","See latest commits in https://github.com/apache/cordova-android/commits/7.1.xhttps://ci.appveyor.com/project/Humbedooh/cordova-android/builds/20501293/job/3xd5auvkdf2d301l/messageshttps://ci.appveyor.com/project/Humbedooh/cordova-android/builds/20501493/job/23ba35450icc9anc/messagesShould be investigated and fixed.","open","579","undefined","","null"
"androidx","Just learned about `androidx`, this new package name Google uses or will use for support libraries and similar stuff:https://stackoverflow.com/questions/51280090/what-is-androidxhttps://developer.android.com/jetpack/androidx/Will this affect cordova-android?","open","565","undefined","[object Object]","null"
"Plugin target-dir error handling for source-file element","In #576 & #577 there is an open question about what if a character other than `/` comes after a `target-dir` prefix such as `app`, `libs`, or `src/main` in a `source-file` element.I think we should consider aborting with an error in this case _and in case of some other invalid `target-dir` prefixes_.I wonder if we should consider a similar form of error handling on the other platforms.","open","578","undefined","[object Object]","null"
"Deprecate old plugin target-dir structure support","Old plugin target-dir structure support, which needs special remapping code in `bin/templates/cordova/lib/pluginHandlers.js` and has led to so many issues, should be deprecated with a warning message for future removal.Plugin authors should be able to specify exactly where source files should be installed. `lib-file` elements should be used for JAR, AAR, etc. Use of `lib-file` elements for Android NDK `.so` files should be properly supported (#557).","open","580","undefined","","null"
"Specifying a directory of .java files as source-file src no longer works","From https://github.com/apache/cordova/issues/47And originally https://github.com/apache/cordova-android/issues/547#issuecomment-439331477Specifying a directory with many .java files as source-file src works with cordova-android@6, but not with cordova-android@7. (Source files would be put into incorrect subdirectory on cordova-android@latest.)This has affected at least one plugin, as shown in following PR:https://github.com/vaenow/cordova-plugin-app-update/pull/119This behaviour is undocumented, but has been already know on the web.As discussed in https://github.com/apache/cordova/issues/47#issuecomment-439435990, we are keeping this behaviour.","open","564","undefined","[object Object]","null"
"[Fix] better support to find Home path for window","### Platforms affectedAndroid, ios, Browser### What does this PR do?I struggeling with home path every time changing build computer or transfer code to my teammate computer. the `build.json` config does not find home path on window with "command line" or "power shell". there is no tutorial about this. I have to go to build file to know that there is `~` equivalent with `$HOME` and `%HOMEPATH%` on window.I think it is feature?### What testing has been done on this change?### Checklist- [ ] [Reported an issue](http://cordova.apache.org/contribute/issues.html) in the JIRA database- [ ] Commit message follows the format: "CB-3232: (android) Fix bug with resolving file paths", where CB-xxxx is the JIRA ID & "android" is the platform affected.- [ ] Added automated test coverage as appropriate for this change.","open","563","undefined","","null"
"Updated to 7.1.2 - android.os.DeadObjectException: Transaction failed on small parcel; remote process","After updating to the latest Cordova Android (7.1.2) I've received about 80 crash error reports. They all come from exactly Android 8.0 and they all throw this exact same error.`java.lang.IllegalStateException: Failure reading AssistStructure data: android.os.DeadObjectException: Transaction failed on small parcel; remote process probably died`I've attached a full catlog below where I basically click some buttons in the app before it breaks. The app does not break in the browser, i've also not received any errors from it's iOS counterpart and it's successfully working on every other version of Android. I've tried following the error in Android Studio but it basically jumps right into the underlying Android system code, i'll keep trying.I've tried selectively pulling out each one of the cordova plugins i've been using to see if any of them are causing this issue but haven't had any luck.I use the following plugins and have ensured all of them are up to date -```    <plugin name="cordova-plugin-whitelist" spec="^1.3.3" />    <plugin name="cordova-plugin-camera" spec="^4.0.2" />    <plugin name="cordova-plugin-file" spec="^6.0.1" />    <plugin name="cordova-plugin-geolocation" spec="^4.0.1" />    <plugin name="cordova-plugin-wkwebview-engine" spec="^1.1.4" />    <plugin name="cordova-plugin-statusbar" spec="^2.4.1" />    <plugin name="cordova-plugin-network-information" spec="^2.0.1" />    <plugin name="cordova-plugin-splashscreen" spec="^5.0.2" />    <engine name="android" spec="^7.1.2" />```[full-catlog.txt](https://github.com/apache/cordova-android/files/2586191/full-catlog.txt)","open","562","undefined","[object Object],[object Object]","null"
"Content-security-policy bug","# Bug ReportChild iframe in remotely-hosted iframe within cordova app doesn't load, despite appropriate Content-Security-Policy http header in child iframe.Bug reproduction repository here: https://github.com/blukis/bugdemo-cordova-android-issue-560/## ProblemChild iframe in remotely-hosted iframe within cordova app doesn't load, despite Content-Security-Policy http header in child iframe.### What is expected to happen?Inner-iframe (iframe border colored blue) is expected to load.### What does actually happen?Inner-iframe (iframe border colored blue) doesn't load, and appears blank.## InformationChrome debug console reports...> Refused to display 'http://201x.plurib.us/test/2018/content-security-inner.php' in a frame because an ancestor violates the following Content Security Policy directive: "frame-ancestors *"### Command or CodeBuild the app (I'm using PhoneGap build, because cordova-proper is beyond my expertise).  Bug manifests on initial state of the app when it's run.### Environment, Platform, DeviceAndroid### Version informationPhonegap build, using cli-9.0.0## Checklist- [x] I searched for existing GitHub issues- [?] I updated all Cordova tooling to most recent version- [x] I included all the necessary information above## --------Original post...I believe I found an issue with content-security-policy in cordova environment...I have an app that includes this page in an iframe: "http://201x.plurib.us/test/2018/content-security-outer.html", which in turn includes this page in another iframe "http://201x.plurib.us/test/2018/content-security-inner.php".  (Note: these are very short pages created to debug this issue.  The original page causing the issue was a shopify checkout page, found in the comments of "...outer.html".)"...inner.php" includes this http header:`Content-Security-Policy: frame-ancestors *`"...outer.html" (and its inner iframe) loads OK in Chrome on Android, but when included the url in a cordova app, "...inner.php" iframe does not load.  (Note: app has "cordova-plugin-whitelist" plugin and `<access origin="*" />`).When I enable android debugging and check the remote device console in Chrome, I see this error in the Chrome console:> Refused to display 'http://201x.plurib.us/test/2018/content-security-inner.php' in a frame because an ancestor violates the following Content Security Policy directive: "frame-ancestors *".Maybe I'm missing something, but I'm not sure how anything could fail to pass "frame-ancestors *".  Is it a cordova issue?  Thanks!","open","560","undefined","[object Object]","null"
"Inconsistent installation of NDK .so files","For JAR files I can think of the following options:* `source-file` element with `libs` or `app/libs` target dir* `lib-file` elementAFAIK for NDK `.so` the plugin has to use a `source-file` element, with target-dir in `app/src/main/jniLibs` for it to work (may be changed by PR #550).I would like to see the following fixes:* possible to use `lib-file` for both JAR and `.so`* `.so` files should work from a subdirectory of `libs` or `app/libs` (`.so` files should **not** have to be installed in subdirectory of `app/src`)","open","557","undefined","[object Object],[object Object],[object Object]","null"
"app/build.gradle vs legacy/build.gradle?","Can someone explain the relationship between `bin/templates/project/app/build.gradle` and `bin/templates/project/legacy/build.gradle`?Do they work together?Could they work against each other?Is there an opportunity for better integration between old version and new version?","open","556","undefined","[object Object]","null"
"cordova platform add android command is not working in windows 10","Hi,I have followed exactly the belows steps in my windows 10npm install -g cordovacd my_projectcordova platform remove androidcordova platform add android@7.1.2but after providing "cordova platform add android@7.1.2" command , it is not showing any error or any platform addition. output : cordova platform add android@7.1.2Using cordova-fetch for cordova-android@7.1.2After this, screen(command prompts) hangs there without showing any progresswhereas in MAC O.S its working fine with above steps. Could you please check and resolve>cordova --version8.1.2 (cordova-lib@8.1.1)>node --versionv10.13.0>npm --version6.4.1","open","545","undefined","[object Object]","null"
"build fails, Could not resolve gradle files","summary:My cordova android project  build failed with error like> > Could not resolve all files for configuration ':classpath'.   > Could not find com.android.tools.build:gradle:3.0.1.     Searched in the following locations:         https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom         https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.jarwhile **I can download these files in my browser** and I have not any proxy conf in gradle.I tried:reinstalling gradle.reinstalling android studio and build tools.reinstalling cordova.modify repositories in build.gradle to google(),maven(),jcenter and etc.removing gradle cache folder.**_reinstalling windows and installing all packages and stuffs from the beginning!_**and many trick from stackOverflow and other websites.my env:windows 10android studio 3.2.1cordova 8.1.2 (cordova-lib@8.1.1)gradle 4.6jdk 1.8inside build.gradle:> buildscript {    repositories {        google()        maven {            url "https://dl.google.com/dl/android/maven2"        }      //  jcenter()    }    dependencies {        // NOTE: Do not place your application dependencies here; they belong        // in the individual module build.gradle files        classpath 'com.android.tools.build:gradle:3.0.1'    }}allprojects {    repositories {        google()        maven {            url "https://dl.google.com/dl/android/maven2"        }      //  jcenter()    }    //This replaces project.properties w.r.t. build settings    project.ext {      defaultBuildToolsVersion="27.0.1" //String      defaultMinSdkVersion=19 //Integer - Minimum requirement is Android 4.4      defaultTargetSdkVersion=27 //Integer - We ALWAYS target the latest by default      defaultCompileSdkVersion=27 //Integer - We ALWAYS compile with the latest by default    }}task clean(type: Delete) {    delete rootProject.buildDir}","open","532","undefined","[object Object]","null"
"org.apache.cordova.engine.SystemWebView.mContext leak !","SystemWebView memory leak","open","529","undefined","[object Object],[object Object]","null"
"Native crash abort on android 8.1","Hi,Any workaround for this issue? My cordova app receives this exception every dayOther similiar issue:https://stackoverflow.com/questions/48457748/native-crash-in-abort-since-oreo-8-1https://issuetracker.google.com/issues/70259031https://stackoverflow.com/questions/51726273/getting-abort-exception-report-from-play-store-on-mi-devices/51761152https://github.com/mapbox/mapbox-gl-native/issues/12278","open","518","undefined","[object Object]","null"
"After updating from 8 to 8.1.2. Report no such file.","After  updating cordova from 8 to 8.1.2 , i run cmd and run "cordova clean", then "cordova build --realse android" , it report that no file "xx/platforms/android/app/src/main/assets/www/cordova_plugin.js".I open the directory"xx/platforms\android\app\src\main\assets"  and find no files in it.","open","517","undefined","[object Object]","null"
"Cordova Release Build AAPT2  Exception","Hi,I am trying to sign the Cordova app but every time Android Studios throws the below error`java.util.concurrent.ExecutionException: com.android.builder.internal.aapt.v2.Aapt2Exception: AAPT2 error: check logs for details |  `I have tried the below ways but no luck so far-  addding `android.enableAapt2=false` to gradle-wrapper.properties- reinstalling cordova/android studioVersion Details- cordova ->` 8.0.0`- cordova-android -> `7.1.1`- gradle -> `4.4`- gradule-plugin -> `3.1`- android-studio -> `3.1.4`Please let me know a solution as this is a blocker.Thanks","open","502","undefined","[object Object]","null"
"BuildHelper provokes ClassNotFoundException when applicationid is not same as manifest package name","Error occurs  when trying to take picture  with camera plugin. Abbreviated stack trace:~~~~10-09 13:04:53.164: W/System.err(17950): java.lang.ClassNotFoundException: <application id>.BuildConfig10-09 13:04:53.164: W/System.err(17950): 	at java.lang.Class.classForName(Native Method)10-09 13:04:53.164: W/System.err(17950): 	at java.lang.Class.forName(Class.java:453)10-09 13:04:53.164: W/System.err(17950): 	at java.lang.Class.forName(Class.java:378)10-09 13:04:53.164: W/System.err(17950): 	at org.apache.cordova.BuildHelper.getBuildConfigValue(BuildHelper.java:54)10-09 13:04:53.164: W/System.err(17950): 	at org.apache.cordova.camera.CameraLauncher.execute(CameraLauncher.java:140)~~~~Error can be reproduced by  defining applicationIdSuffix in build-extras.gradle, for example with~~~~		debug {			applicationIdSuffix ".debug"			versionNameSuffix ".debug"		}~~~~The problem is caused by BuildHelper calling 'context.getPackageName', which returns the application id, not the package name.Ironically, the application id is what CameraLauncher is trying to get in the first place, so I've been able to fix the problem modifying code in CameraLauncher:~~~~        Context context = cordova.getContext();        this.applicationId = context.getPackageName();        // this.applicationId = (String) BuildHelper.getBuildConfigValue(cordova.getActivity(), "APPLICATION_ID");~~~~But I think this should really work out of the box... (maybe add a method to CordovaInterface to return BuildConfig, which could be informed optionally from the application's CordovaActivity implementation?)","open","513","undefined","[object Object]","null"
"Release version still have debugging enabled","Hello there,I'm building a Android app, specified all required fields on build.json upon running "Cordova build Android --release --buildConfig"It does generates app-release.apk which is actually signed by the keystore provided in build.json but when deploying that app on device/emulator chrome://inspect still able to detect and inspect Cordova app.","open","500","undefined","[object Object]","null"
"Gradle build issue","Hi, I'm trying to update my platform from 5.1.1 to 7.1.1 with the new cordova 8.0.0, but, when I try to build my app, the following error occurs:```Android Studio project detectedANDROID_HOME=/opt/necessitas/android-sdkJAVA_HOME=/home/sabia-dev/desenvolvimento/jdk/jdk1.8.0_172studioSubproject Path: CordovaLibSubproject Path: apppublishNonDefault is deprecated and has no effect anymore. All variants are now published.Failed to notify ProjectEvaluationListener.afterEvaluate(), but primary configuration failure takes precedence.java.lang.IllegalStateException: compileSdkVersion is not specified.	at com.google.common.base.Preconditions.checkState(Preconditions.java:456)	at com.android.build.gradle.BasePlugin.createAndroidTasks(BasePlugin.java:590)	at com.android.build.gradle.BasePlugin.lambda$null$3(BasePlugin.java:555)	at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:81)	at com.android.build.gradle.BasePlugin.lambda$createTasks$4(BasePlugin.java:551)	at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:91)	at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:80)	at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)	at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)	at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)	at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)	at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)	at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)	at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)	at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)	at com.sun.proxy.$Proxy24.afterEvaluate(Unknown Source)	at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:75)	at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:69)	at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:33)	at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:103)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)	at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:49)	at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:651)	at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:133)	at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)	at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)	at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)	at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:246)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)	at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:165)	at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:124)	at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:107)	at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)	at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)	at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)	at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)	at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)	at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)	at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)	at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)	at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:45)	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)	at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)	at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)	at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:71)	at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)	at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:51)	at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)	at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)	at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)	at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)	at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)	at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)	at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)	at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)	at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)	at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:58)	at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:33)	at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)	at org.gradle.util.Swapper.swap(Swapper.java:38)	at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)	at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)	at java.lang.Thread.run(Thread.java:748)FAILURE: Build failed with an exception.* Where:Script '/var/www/html/produto/manager-journey/journey/platforms/android/cordova-plugin-crosswalk-webview/journey-xwalk.gradle' line: 31* What went wrong:A problem occurred evaluating script.> /var/www/html/produto/manager-journey/journey/platforms/android/app/res/xml/config.xml (Arquivo ou diretório inexistente)* Try:Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.* Get more help at https://help.gradle.orgBUILD FAILED in 1s(node:15589) UnhandledPromiseRejectionWarning: Error: /var/www/html/produto/manager-journey/journey/platforms/android/gradlew: Command failed with exit code 1 Error output:Failed to notify ProjectEvaluationListener.afterEvaluate(), but primary configuration failure takes precedence.java.lang.IllegalStateException: compileSdkVersion is not specified.	at com.google.common.base.Preconditions.checkState(Preconditions.java:456)	at com.android.build.gradle.BasePlugin.createAndroidTasks(BasePlugin.java:590)	at com.android.build.gradle.BasePlugin.lambda$null$3(BasePlugin.java:555)	at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:81)	at com.android.build.gradle.BasePlugin.lambda$createTasks$4(BasePlugin.java:551)	at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:91)	at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:80)	at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)	at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)	at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)	at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)	at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)	at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)	at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)	at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)	at com.sun.proxy.$Proxy24.afterEvaluate(Unknown Source)	at org.gradle.configuration.project.LifecycleProjectEvaluator.notifyAfterEvaluate(LifecycleProjectEvaluator.java:75)	at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:69)	at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:33)	at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:103)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)	at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:49)	at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:651)	at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:133)	at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)	at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)	at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)	at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:246)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)	at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:165)	at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:124)	at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:107)	at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)	at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)	at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)	at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)	at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)	at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)	at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)	at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)	at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)	at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)	at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)	at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:45)	at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)	at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)	at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)	at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:71)	at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)	at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:51)	at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)	at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)	at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)	at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)	at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)	at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)	at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)	at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)	at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)	at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:58)	at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:33)	at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)	at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)	at org.gradle.util.Swapper.swap(Swapper.java:38)	at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)	at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)	at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)	at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)	at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)	at java.lang.Thread.run(Thread.java:748)FAILURE: Build failed with an exception.* Where:Script '/var/www/html/produto/manager-journey/journey/platforms/android/cordova-plugin-crosswalk-webview/journey-xwalk.gradle' line: 31* What went wrong:A problem occurred evaluating script.> /var/www/html/produto/manager-journey/journey/platforms/android/app/res/xml/config.xml (Arquivo ou diretório inexistente)* Try:Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.* Get more help at https://help.gradle.orgBUILD FAILED in 1s    at ChildProcess.whenDone (/var/www/html/produto/manager-journey/journey/platforms/android/cordova/node_modules/cordova-common/src/superspawn.js:169:23)    at emitTwo (events.js:126:13)    at ChildProcess.emit (events.js:214:7)    at maybeClose (internal/child_process.js:925:16)    at Process.ChildProcess._handle.onexit (internal/child_process.js:209:5)(node:15589) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)(node:15589) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.```Is that a known issue for the 8.0.0 version or am I doing something really wrong?CheersNikao","open","499","undefined","[object Object]","null"
"File mapUriToFile returns null","Hi,It seems like the method below is depricated and should be replaced with [Fileproviders](https://developer.android.com/reference/android/support/v4/content/FileProvider.html)https://github.com/apache/cordova-android/blob/23b24491c3e2ad5721a2813ec08f80985eca5e64/framework/src/org/apache/cordova/CordovaResourceApi.java#L148","open","492","undefined","[object Object]","null"
"Cordova + Android Work Manager","I choose WorkManager to make a scheduled service that would help me post data to server when cordova based app is closed.So, I start with including dependencies in build.gradle (Module:app)```dependencies {    implementation fileTree(dir: 'libs', include: '*.jar')    //>>>>THIS LINE HERE IS FOR WORKMANAGER and MULTIDEX    implementation "android.arch.work:work-runtime:1.0.0-alpha01"    implementation 'com.android.support:multidex:1.0.3'    // SUB-PROJECT DEPENDENCIES START    implementation(project(path: ":CordovaLib"))    compile "com.android.support:support-v4:24.1.1+"    // SUB-PROJECT DEPENDENCIES END}```Now I run following commands```cordova cleancordova build android```I get throw with an exception:```Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.java.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex```So, I add this line```android {    defaultConfig {        versionCode cdvVersionCode ?: new BigInteger("" + privateHelpers.extractIntFromManifest("versionCode"))        applicationId privateHelpers.extractStringFromManifest("package")        //>>>>THIS LINE HERE        multiDexEnabled true        if (cdvMinSdkVersion != null) {            minSdkVersion cdvMinSdkVersion        }    }    lintOptions {      abortOnError false;    }    compileSdkVersion cdvCompileSdkVersion    buildToolsVersion cdvBuildToolsVersion```I ran the clean and build commands again. Now, I get new exception:```Execution failed for task ':app:transformClassesWithMultidexlistForDebug'.> java.io.IOException: Can't write [C:\Users\hjhkjn\Desktop\cordova\hjhkjnad\platforms\android\app\build\intermediates\multi-dex\debug\componentClasses.jar] (Can't read [C:\Users\hjhkjn\Desktop\cordova\hjhkjnad\platforms\android\app\build\intermediates\transforms\desugar\debug\19.jar(;;;;;;**.class)] (Duplicate zip entry [19.jar:android/support/v4/content/PermissionChecker$PermissionResult.class]))```I do get this error as well - https://i.stack.imgur.com/sZadD.pngAny help would be appreciated. Thank you","open","484","undefined","[object Object]","null"
"Angular AOT build is not working, neither --release flag.","When using an AOT compiled version of a website the application doesn't load.Might be an issue with cordova-cli, I'm not sure.Project can be found here:https://github.com/IsraelHikingMap/SiteAlso, When I compile it with `--release` flag android is telling me that the application is invalid and doesn't install it on my device... :-/","open","483","undefined","[object Object]","null"
"Cordova : Nothing in index.js is getting called, no console logs","We are working on a Cordova project where we are developing an app for Android. The app is working good, but for certain functionalities to work properly, we need to access index.js file located in parent-folder/www/js/index.js. We added our modifications there, but nothing from index.js is getting called. We have a simple console.log, which also we don't see. What are we missing?index.js : ```var app = {    // Application Constructor    initialize: function() {        document.addEventListener('deviceready', this.onDeviceReady.bind(this), false);    },    // deviceready Event Handler    //    // Bind any cordova events here. Common events are:    // 'pause', 'resume', etc.    onDeviceReady: function() {        console.log("i am so ready for u boyyyzzz!");        this.receivedEvent('deviceready');        window.addEventListener("click", function(event){            var closestA = event.closest("a");            //if(closestA && closestA.href && (closestA.getAttribute("download") !== undefined) && (closestA.getAttribute("download") !== null)){                var fileTransfer = new FileTransfer();                var uri = encodeURI(closestA.href);                var fileURL =  "///storage/emulated/0/DCIM/myFile";                fileTransfer.download(                      uri, fileURL, function(entry) {                         console.log("download complete: " + entry.toURL());                      },                      function(error) {                         console.log("download error source " + error.source);                         console.log("download error target " + error.target);                         console.log("download error code" + error.code);                      }                   );            //}        });    },```This is causing us a lot of issues as none of our external functions, especially download seems to be working. What are we doing wrong. Any insight would help, we are stuck on this for 2 days. Thank you. ","open","482","undefined","[object Object]","null"
"media stream compatible web view","Hii am following back on a previous issue that i raised , for web view , i am trying to have media streaming and media recording capabilties in android using cordova , everything else is fine apart from the web view and crosswalk is no longer maintained and doesn't support media stream / recording using WEB RTC is there any other way out to solve this problem or any other options  for cordova .looking forward for your helpThanks  ","open","479","undefined","[object Object]","null"
"404 error when debugging Cordova in Chrome inspect page","I am going to use chrome to debug my app, When I click on the link under my app name, a blank page popped up, and shown a 404 error on it, Any suggestions?","open","474","undefined","[object Object]","null"
"Update CordovaResourceApi.java","Add FileUtils class to support URI to getting real file path for different APIs.<!--Please make sure the checklist boxes are all checked before submitting the PR. The checklistis intended as a quick reference, for complete details please see our Contributor Guidelines:http://cordova.apache.org/contribute/contribute_guidelines.htmlThanks!-->### Platforms affected### What does this PR do?### What testing has been done on this change?### Checklist- [ ] [Reported an issue](http://cordova.apache.org/contribute/issues.html) in the JIRA database- [ ] Commit message follows the format: "CB-3232: (android) Fix bug with resolving file paths", where CB-xxxx is the JIRA ID & "android" is the platform affected.- [ ] Added automated test coverage as appropriate for this change.","open","468","undefined","[object Object]","null"
